{"version":3,"sources":["theme.js","components/landing/Navbar.jsx","components/landing/Footer.jsx","components/utils/helpers.js","components/utils/LoadingCircle.jsx","components/landing/Waitlist.jsx","assets/iphone-frame.png","assets/demo-gif.gif","components/landing/Splash.jsx","components/landing/Landing.jsx","components/landing/Pricing.jsx","components/dashboard/Drawer.jsx","components/dashboard/pages/feed/Attribute.jsx","components/utils/RedSwitch.js","components/dashboard/pages/Controller.jsx","components/utils/ErrorPage.js","components/utils/EndPage.js","components/dashboard/pages/feed/Feed.jsx","components/dashboard/pages/feed/VideoCard.jsx","components/utils/LoadingBar.jsx","components/dashboard/welcome/ScanVideos.jsx","components/dashboard/pages/Videos.jsx","components/dashboard/pages/VideoPlayer.jsx","components/dashboard/pages/feed/TopicBar.jsx","components/dashboard/pages/feed/CommentCard.jsx","components/dashboard/pages/Comments.jsx","components/dashboard/pages/feed/TopicCard.jsx","components/dashboard/pages/Topics.jsx","components/dashboard/pages/ActionControl.jsx","components/dashboard/pages/Video.jsx","components/dashboard/welcome/ChannelCard.jsx","components/dashboard/welcome/ConnectChannel.jsx","components/dashboard/Dashboard.jsx","components/admin/pages/UsersAdmin.jsx","components/blog/BlogManager.jsx","components/blog/BlogEditor.jsx","components/dashboard/pages/feed/FeedCard.jsx","components/blog/BlogPost.jsx","components/blog/BlogAdmin.jsx","components/admin/Feedback.jsx","components/admin/Logs.jsx","components/admin/Admin.jsx","components/Placeholder.jsx","components/Login.jsx","App.js","index.js"],"names":["csRed","lightWeight","getTheme","createTheme","typography","fontFamily","h1","fontSize","fontWeight","lineHeight","h3","h4","color","h5","h6","body1","overrides","MuiCssBaseline","palette","primary","main","dark","secondary","error","faded","components","MuiButton","variants","withStyles","theme","root","position","top","left","width","backgroundColor","zIndex","container","margin","spacing","display","flexDirection","justifyContent","alignItems","logoText","enterButton","textTransform","padding","classes","history","useHistory","useState","showSignIn","setShowSignIn","useEffect","window","addEventListener","e","ctrlKey","key","className","Box","to","Link","component","underline","Typography","enter","Button","onClick","push","bottom","flexWrap","linksRow","linksCol","link","textDecoration","copyright","align","variant","postData","url","data","a","fetch","method","headers","body","JSON","stringify","response","json","thousands_separator","num","num_parts","toString","split","replace","join","parseInt","capitalize","text","charAt","toUpperCase","slice","numberWithCommas","x","formatTimestamp","timestamp","type","ms","Date","parse","date","toLocaleString","options","year","month","day","toLocaleDateString","undefined","textAlign","CircularProgress","isOpen","setIsOpen","submitted","setSubmitted","successful","setSuccessful","hasError","setHasError","submit","email","emailRef","current","setTimeout","invalid","setInvalid","handleActionSubmit","test","String","toLowerCase","validateEmail","handleActionClose","setEmail","useRef","listenEnter","removeEventListener","placeholder","setPlaceholder","Dialog","open","onClose","DialogTitle","id","DialogContent","TextField","helperText","autoFocus","onChange","target","value","DialogActions","height","content","marginTop","maxWidth","breakpoints","up","textBlock","red","benefit","checkGap","imageBlock","paddingRight","iPhoneFrame","demoGif","ctaDesktop","ctaMobile","ctaButton","ctaRed","ctaDark","showWaitlist","setShowWaitlist","ctaButtons","style","src","option","Paper","drawer","drawerPaper","logoBox","channelBox","avatar","borderRadius","initialCircle","initial","footer","section","drawerItems","activePage","mobileOpen","handleDrawerToggle","channel","channelCard","setChannelCard","thumbnail","CardMedia","title","channel_title","List","map","index","ListItem","button","selected","Hidden","mdUp","implementation","Drawer","anchor","paper","ModalProps","keepMounted","smDown","default","alignContents","attribute","activeAttribute","active","err","setErr","setColor","size","dangerouslySetInnerHTML","__html","switchBase","checked","track","Switch","flexGrow","alignContent","row","actionButton","search","sortIcon","control","setControl","setDisplay","sortOptions","allLabels","actionMessage","action","actionLabel","refresh","lastRefresh","setSearch","sort","setSort","labels","setLabels","reduce","o","lab","debouncedSearch","useCallback","debounce","handleSort","currentTarget","dataset","handleSortClose","anchorEl","setAnchorEl","sortOpen","Boolean","sentimentEnabled","sentimentOn","Container","IconButton","inputProps","MenuItem","Object","entries","label","status","newLabels","handleLabel","RedSwitch","loading","query","render","feed","setFeed","maxScore","setMaxScore","addToFeed","items","length","score","item","pageNumber","setPageNumber","isLoading","setIsLoading","isEnd","setIsEnd","handleLoad","request_data","api","result","console","log","then","observing","setObserving","handleObserver","isIntersecting","p","loader","observer","IntersectionObserver","rootMargin","threshold","observe","ref","boxSizing","gridTemplateColumns","gridAutoRows","cover","gridColumn","marginBottom","details","actionArea","video","Card","CardActionArea","noWrap","published","db_comments","fade","barLoader","bar","loadTime","elapsed","setElapsed","timer","setInterval","prevElapsed","clearInterval","progress","setProgress","loadRatio","cleanRatio","Math","round","LinearProgress","close","loadtime","user","setUser","setChannel","channelId","setChannelId","dbVideos","setDBVideos","totalVideos","setTotalVideos","lastScan","setLastScan","scanOpen","setScanOpen","total_videos","db_videos","last_scan","setLoadtime","setActionMessage","ceil","grayout","setGrayout","uploads_playlist","quota","new_quota","pageSize","border","videoBackground","line","down","pair","handleResize","background","player","offsetWidth","image","views","likes","dislikes","overflow","token","flex","minWidth","whiteSpace","textOverflow","sentiment","pos","neg","neu","max","context","useContext","TopicContext","setSentimentOn","xScore","setXScore","xPos","setXPos","xNeg","setXNeg","xNeu","setXNeu","fullWidth","posWidth","negWidth","neuWidth","displayToken","styles","relativeText","cursor","repliesBlock","paddingLeft","CommentCard","comment","showRelatives","leftPad","setLeftPad","repliesVisible","setRepliesVisible","replies","setReplies","handleReplies","parentId","all","c","SubComment","parentVisible","setParentVisible","parent","setParent","handleParent","commentIds","author","n_children","videoId","pageLoading","accordian","topicDetail","detail","comments","maxHeight","topic","setCommentIds","setVideoIds","toks","setToks","Accordion","videos","v","newCommentIds","forEach","tok","AccordionSummary","summary","AccordionDetails","createContext","page","analyze","dbComments","setDBComments","totalComments","setTotalComments","setLastRefresh","setAllLabels","last_refresh","channel_id","total_comments","sentiment_on","setPageLoading","Provider","head","bold","centered","handleClose","actionTitle","remaining","verb","setMax","maxError","setMaxError","resetToken","setResetToken","cost","setCost","_maxResults","_perCall","_nCalls","min","marginLeft","paddingTop","useParams","setVideo","res","video_data","isAnalyzing","setIsAnalyzing","maxComments","actionOpen","setActionOpen","connectChannel","username","setUsername","channels","setChannels","getChannels","go","DEFAULT_USER","titleLine","menuButton","marginRight","auth0User","tab","dashboardLoading","setDashboardLoading","getUser","sub","email_verified","nickname","picture","getChannel","payload","unlinked","setUnlinked","setMobileOpen","edge","exact","path","userData","users","setUsers","results","getUsers","activeOption","field","table","buttonBar","posts","blog","setBlog","newPost","removePost","setSelected","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","post","hover","confirm","handleClick","role","Checkbox","scope","created","excerpt","event","stopPropagation","handleRemove","Quill","register","ImageUploader","blogEditor","inputField","buttonContainer","publish","thumbnailSection","updateBlog","setId","setTitle","permalink","setPermalink","setThumbnail","setExcerpt","blogContent","setBlogContent","postActive","setPostActive","prevBlog","thumbnailLoading","setThumbnailLoading","handleThumbnail","file","files","formData","FormData","append","modules","setModules","formats","setFormats","fileName","document","createElement","rel","href","appendChild","addCss","toolbar","clipboard","matchVisual","imageUploader","upload","Promise","resolve","reject","catch","hidden","name","channelImage","inactive","pageUrl","setPageUrl","infoFields","setInfoFields","dbInfo","setDbInfo","channelTitle","description","keys","includes","n_analyzed","minHeight","setContent","TabPanel","props","children","other","a11yProps","tabBar","setPosts","maxId","setMaxId","getPosts","uploadPost","setActive","newBlog","Tabs","newValue","Tab","disabled","oldPosts","feedback","setFeedback","getFeedback","f","message","checkboxes","checkbox","APIs","logs","setLogs","allActive","params","newLogs","fields","unshift","time","calculateGoogleQuota","getLogs","newFeed","updateFeed","handleCheck","googleQuota","setGoogleQuota","prices","totalPrice","FormGroup","FormControlLabel","random","ADMIN_CHANNEL","val","routes","inputUsername","setInputUsername","password","setPassword","rejected","setRejected","handleLogin","localStorage","setItem","loginForm","navBar","ThemeProvider","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4bd804fa.chunk.js","sourcesContent":["import { createTheme } from '@material-ui/core/styles';\n\nconst csRed = '#B70000'\nconst lightWeight = '200'\nconst boldWeight = '600'\n\nconst getTheme = () => {\n    const theme = createTheme({\n        typography: {\n            fontFamily: ['Roboto'],\n            h1: {\n                fontSize: '2.5em',\n                fontWeight: '800',\n                lineHeight: '1',\n            },\n            h3: {\n                fontSize: '2em',\n                fontWeight: boldWeight,\n            },\n            h4: {\n                fontSize: '2em',\n                fontWeight: lightWeight,\n                color: csRed,\n            },\n            h5: {\n                fontSize: '1.2em',\n                fontWeight: boldWeight,\n            },\n            h6: {\n                fontSize: '1.2em',\n                fontWeight: lightWeight,\n            },\n            body1: {\n                fontSize: '1em',\n                fontWeight: lightWeight,\n            },\n        },\n        overrides: {\n            MuiCssBaseline: {\n                '@global': {\n                '@font-face': 'Roboto',\n                },\n            },\n        },\n        palette: {\n            primary: {\n                main: '#F5F5F5',\n                dark: '#1E1E1E',\n            },\n            secondary: {\n                main: '#FFFFFF',\n                dark: '#252526',\n            },\n            error: {\n                main: '#B70000',\n                dark: '#FFFFFF',\n            },\n            csRed: {\n                main: csRed,\n                dark: '#8B0000',\n            },\n            faded: {\n                main: '#7D7D7D',\n            },\n        },\n        components: {\n            MuiButton: {\n                variants: [\n\n                ]\n            }\n        }\n    })\n    return theme\n}\n\nexport default getTheme\n","import { useState, useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport { useHistory } from 'react-router';\n// import { useAuth0 } from '@auth0/auth0-react'\n\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport Button from '@material-ui/core/Button'\n\nconst styles = (theme) => ({\n  root: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    width: '100%',\n    backgroundColor: 'white',\n    zIndex: '100',\n  },\n  container: {\n    margin: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  logoText: {\n    fontSize: '24px',\n    fontWeight: '400',\n  },\n  csRed: {\n    color: theme.palette.csRed.main,\n  },\n  enterButton: {\n    textTransform: 'none',\n    fontSize: '1.1em',\n    fontWeight: '200',\n    padding: '2px',\n  },\n})\n\nconst Navbar = ({classes}) => {\n\n  // const { loginWithRedirect } = useAuth0()\n  const history = useHistory()\n  const loginWithRedirect = () => {\n    history.push('/')\n  }\n\n  const [showSignIn, setShowSignIn] = useState(false)\n  useEffect(() => {\n    window.addEventListener('keydown', (e) => {\n      if (e.ctrlKey && e.key === 'l') {\n        setShowSignIn(true)\n      }\n    })\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <Box className={classes.container}>\n        <Router.Link  to={\"/\"}>\n          <Link component=\"button\" underline=\"none\" color=\"textPrimary\">\n            <Box display='flex' flexDirection='row'>\n              <Typography className={classes.logoText}>Comment</Typography>\n              <Typography className={`${classes.logoText} ${classes.csRed}`}>Sense</Typography>\n            </Box>\n          </Link>\n        </Router.Link>\n        <div className={classes.enter}>\n          {showSignIn\n            ? <Button className={classes.enterButton} onClick={loginWithRedirect}>\n              Login\n            </Button>\n            : null\n          }\n        </div>\n      </Box>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Navbar)\n","import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { alpha, withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport * as Router from 'react-router-dom';\n\nconst styles = (theme) => ({\n    root: {\n        position: 'absolute',\n        width: '100%',\n        bottom: '0',\n        left: '0',\n        backgroundColor: theme.palette.secondary.main,\n        margin: '0',\n        zIndex: '100',\n    },\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-evenly',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        margin: theme.spacing(2)\n    },\n    linksRow: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-evenly'\n    },\n    linksCol: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start'\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n        '&:hover': {\n            color: theme.palette.secondary.dark\n        }\n    },\n    copyright: {\n        color: theme.palette.faded.main\n    }\n})\n\nconst Footer = ({align='row', classes}) => {\n    return(\n        <div className={classes.root}>\n            <Box className={classes.container}>\n                <div className={align === 'row' ? classes.linksRow : classes.linksCol}>\n                    <Router.Link  to={\"/blog\"} className={classes.link}>\n                        <Typography variant='body1'>Blog</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/contact\"} className={classes.link}>\n                        <Typography variant='body1'>Contact</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/privacy\"} className={classes.link}>\n                        <Typography variant='body1'>Privacy</Typography>\n                    </Router.Link>\n                    <Router.Link  to={\"/terms\"} className={classes.link}>\n                        <Typography variant='body1'>Terms</Typography>\n                    </Router.Link>\n                </div>\n                <br></br>\n                <Typography variant='body1' className={classes.copyright}>&copy;2021 Comment Sense</Typography>\n            </Box>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Footer)\n","// ref: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\nconst postData = async (url, data) => {\n    const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    })\n    // console.log(response)\n    return response.json()\n}\n\nconst thousands_separator = (num) => {\n    if (typeof(num) !== 'number') {\n        try {\n            return (thousands_separator(parseInt(num)))\n        } catch (e) {\n            return num\n        }\n    } else {\n        var num_parts = num.toString().split(\".\");\n        num_parts[0] = num_parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        return num_parts.join(\".\");\n    }\n}\n\nconst capitalize = (text) => {\n    return text.charAt(0).toUpperCase() + text.slice(1)\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nconst formatTimestamp = (timestamp, type='time') => {\n    const ms = Date.parse(timestamp)\n    const date = new Date(ms)\n    switch (type) {\n        case 'time': return date.toLocaleString()\n        case 'date': {\n            const options = { year: 'numeric', month: 'long', day: 'numeric' };\n            return date.toLocaleDateString(undefined, options)\n        }\n        default: return timestamp\n    }\n}\n\nexport {postData, thousands_separator, capitalize,\n        numberWithCommas, formatTimestamp}\n","import { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: '100%',\n    },\n    csRed: {\n        color: theme.palette.csRed.main,\n    },\n})\n\nconst LoadingCircle = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <CircularProgress className={classes.csRed} />\n        </div>\n    )\n}\n\nexport default withStyles(styles)(LoadingCircle)\n","import { useState, useEffect, useRef } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\n// Check if string is valid email address. ref: https://stackoverflow.com/a/46181\nconst validateEmail = (email) => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase())\n}\n\nconst Waitlist = ({isOpen, setIsOpen, classes}) => {\n\n    // What to do with a valid address\n    const [submitted, setSubmitted] = useState(false)\n    const [successful, setSuccessful] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const submit = async () => {\n        setSubmitted(true)\n        const response = await postData('/api/add_waitlist', {email: emailRef.current})\n        if (!response.error) {\n            setSuccessful(true)\n        } else {\n            setHasError(true)\n        }\n        window.setTimeout(() => {\n            setIsOpen(false)\n        }, 1000)\n    }\n\n    // Handle button clicks\n    const [invalid, setInvalid] = useState(false)\n    const handleActionSubmit = () => {\n        if (!validateEmail(emailRef.current)) {\n            setInvalid(true)\n        } else {\n            submit()\n        }\n    }\n    const handleActionClose = () => {\n        setIsOpen(false)\n    }\n\n    // Update email variable while you type\n    // useState to manage input field, useRef for listener (https://stackoverflow.com/a/55265764)\n    const [email, setEmail] = useState(\"\")\n    const emailRef = useRef(email)\n    const handleEmail = (e) => {\n        setEmail(e.target.value)\n        emailRef.current = e.target.value\n        // Turn off the error message after they've updated it\n        if (invalid) {\n            setInvalid(false)\n        }\n    }\n\n    // Pressing enter clicks 'submit'\n    const listenEnter = (e) => {\n        if (e.key === 'Enter') {\n            handleActionSubmit()\n        }\n    }\n    useEffect(() => {\n        if (isOpen) {\n            window.addEventListener('keydown', listenEnter)\n        } else {\n            window.removeEventListener('keydown', listenEnter)\n        }\n    }, [isOpen])\n\n    const [placeholder, setPlaceholder] = useState(null)\n    useEffect(() => {\n        if (submitted && !successful && !hasError) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (successful) {\n            setPlaceholder(\n                <Typography className={classes.body1}>\n                    Success! We'll be in touch.\n                </Typography>\n            )\n        } else if (hasError) {\n            setPlaceholder(\n                <Typography className={classes.body1}>\n                    Error. Please try again later.\n                </Typography>\n            )\n        } else {\n            setPlaceholder(null)\n        }\n    }, [submitted, successful, hasError])\n\n    return (\n        <Dialog open={isOpen} onClose={handleActionClose}>\n            <DialogTitle id=\"form-dialog-title\">\n                <Typography className={classes.h5}>Join Waitlist</Typography>\n            </DialogTitle>\n            <DialogContent>\n                {placeholder\n                    ? placeholder\n                    : <TextField\n                        error={invalid ? true : false}\n                        helperText={invalid ? \"Enter a valid email address\" : \"\"}\n                        autoFocus\n                        placeholder=\"Enter email address\"\n                        margin=\"none\"\n                        type=\"email\"\n                        onChange={handleEmail}\n                        value={email}\n                    />\n                }\n            </DialogContent>\n            <DialogActions>\n                {placeholder\n                    ? null\n                    : <>\n                        <Button onClick={handleActionClose} variant=\"contained\" color=\"primary\">\n                            CANCEL\n                        </Button>\n                        <Button type=\"submit\" onClick={handleActionSubmit} variant=\"contained\"\n                                className={classes.csRed}>\n                            SUBMIT\n                        </Button>\n                    </>\n                }\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(Waitlist)\n","export default __webpack_public_path__ + \"static/media/iphone-frame.4b5704a0.png\";","export default __webpack_public_path__ + \"static/media/demo-gif.39369f0a.gif\";","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport Waitlist from './Waitlist'\n\nimport iPhoneFrame from '../../assets/iphone-frame.png'\nimport demoGif from '../../assets/demo-gif.gif'\n\n\nconst styles = (theme) => ({\n    root: {\n        height: '100vh',\n        width: '100%',\n        backgroundColor: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    content: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n        flexWrap: 'nowrap',\n        marginTop: theme.spacing(16),\n        margin: theme.spacing(2),\n        maxWidth: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n    },\n    textBlock: {\n        width: '60%',\n    },\n    red: {\n        color: theme.palette.csRed.main,\n    },\n    benefit: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        padding: '2px',\n        fontSize: '1em',\n        fontWeight: '200',\n        [theme.breakpoints.up('sm')]: {\n            fontSize: '1.2em',\n            padding: '4px'\n        },\n    },\n    checkGap: {\n        width: '10px',\n    },\n    imageBlock: {\n        position: 'relative',\n        paddingRight: '10px',\n        width: '40%',\n    },\n    iPhoneFrame: {\n        position: 'relative',\n        zIndex: 20,\n        position: 'relative',\n        top: 0,\n        left: 0,\n        padding: '10px',\n        width: '100%',\n    },\n    demoGif: {\n        zIndex: 10,\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        padding: '15%',\n        width: '78%',\n        [theme.breakpoints.up('sm')]: {\n            padding: '10%',\n            width: '84%',\n        },\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n    },\n    ctaDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            width: '100%',\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-evenly',\n            marginTop: theme.spacing(2)\n        }\n    },\n    ctaMobile: {\n        display: 'flex',\n        flexDirection: 'column',\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    ctaButton: {\n        fontSize: '1em',\n        width: '200px',\n        height: '50px',\n        margin: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '160px',\n            height: '40px',\n            margin: '0',\n        },\n    },\n    ctaRed: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.csRed.dark,\n        },\n    },\n    ctaDark: {\n        backgroundColor: theme.palette.secondary.dark,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.primary.dark,\n        },\n    },\n})\n\nconst Splash = ({classes}) => {\n\n    const [showWaitlist, setShowWaitlist] = useState(false)\n\n    const ctaButtons = (\n        <>\n            <Router.Link to={'/dashboard'} className={classes.link}>\n                <Button\n                    id=\"demo\"\n                    variant='contained'\n                    className={`${classes.ctaButton} ${classes.ctaRed}`}\n                    // onClick={() => {}}\n                >DEMO</Button>\n            </Router.Link>\n            <Button\n                id=\"freeTrial\"\n                variant='contained'\n                className={`${classes.ctaButton} ${classes.ctaDark}`}\n                onClick={() => setShowWaitlist(true)}\n            >JOIN WAIT LIST</Button>\n        </>\n    )\n\n    return(\n        <div className={classes.root}>\n            <Waitlist isOpen={showWaitlist} setIsOpen={setShowWaitlist} />\n            <div className={classes.content}>\n                <div className={classes.textBlock}>\n                    <Typography variant='h1' style={{fontFamily: 'Roboto'}}>\n                        Your{<br/>}YouTube{<br/>}comments,{<br/>}<span className={classes.red}>sorted.</span>\n                    </Typography>\n                    {<br/>}\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Scan hundreds of comments in seconds\n                    </Typography>\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Cluster by topic\n                    </Typography>\n                    <Typography className={classes.benefit}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        AI-powered sentiment analysis\n                    </Typography>\n                    <Typography className={classes.benefit} style={{fontWeight: '600'}}>\n                        <CheckIcon style={{fontSize: '1.5em'}} />\n                        <div className={classes.checkGap}></div>\n                        Get the full story\n                    </Typography>\n                    <div className={classes.ctaDesktop}>\n                        {ctaButtons}\n                    </div>\n                </div>\n                <div className={classes.imageBlock}>\n                    <img src={iPhoneFrame} className={classes.iPhoneFrame}></img>\n                    <img src={demoGif} className={classes.demoGif}></img>\n                </div>\n            </div>\n            <div className={classes.ctaMobile}>\n                {ctaButtons}\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Splash)\n\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Navbar from './Navbar'\nimport Footer from './Footer'\nimport Splash from './Splash'\nimport Pricing from './Pricing'\n\nconst styles = (theme) => ({\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n})\n\nconst Landing = ({classes}) => {\n\n    return(\n        <div className={classes.root}>\n            <Navbar />\n            <Splash />\n            {/* <Pricing />\n            <Footer /> */}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Landing)\n","import { withStyles } from '@material-ui/core/styles'\nimport * as Router from 'react-router-dom'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport CheckIcon from '@material-ui/icons/Check';\nimport iPhoneFrame from '../../assets/iphone-frame.png'\nimport demoGif from '../../assets/demo-gif.gif'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        height: '100vh',\n        width: '100%',\n        backgroundColor: theme.palette.primary.main,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    content: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '-50px',\n        [theme.breakpoints.up('sm')]: {\n            width: '600px',\n        },\n    },\n    options: {\n        width: '80%',\n        display: 'flex',\n        flexDirection: 'column',\n        marginTop: '30px',\n        [theme.breakpoints.up('sm')]: {\n            width: '100%',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n        },\n    },\n    option: {\n        height: '250px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: theme.spacing(1),\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            height: '300px',\n            margin: theme.spacing(2),\n            padding: theme.spacing(4),\n        },\n    },\n    ctaButton: {\n        fontSize: '1em',\n        width: '200px',\n        height: '50px',\n        margin: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '160px',\n            height: '40px',\n            margin: '0',\n        },\n    },\n    ctaRed: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.csRed.dark,\n        },\n    },\n    ctaDark: {\n        backgroundColor: theme.palette.secondary.dark,\n        color: 'white',\n        '&:hover': {\n            backgroundColor: theme.palette.primary.dark,\n        },\n    },\n})\n\nconst Pricing = ({classes}) => {\n    return(\n        <div className={classes.root}>\n            <div className={classes.content}>\n                <Typography variant='h4'>\n                    Pricing\n                </Typography>\n                <div className={classes.options}>\n                    <Paper className={classes.option}>\n                        <Typography className={classes.h5}>\n                            Pay as you go\n                        </Typography>\n                        <Typography className={classes.body1}>\n                            <li>Livestream & Catalog</li>\n                            <li>Browse by video or topic</li>\n                            <li>User-defined libraries</li>\n                            <li>Comment Quota</li>\n                        </Typography>\n                        <Typography className={classes.h6}>\n                            $5 / 10,000 comments\n                        </Typography>\n                        <Button variant='contained' className={`${classes.ctaButton} ${classes.ctaDark}`}>\n                            BUY NOW\n                        </Button>\n                    </Paper>\n                    <Paper className={classes.option}>\n                        <Typography className={classes.h5}>\n                            Subscribe\n                        </Typography>\n                        <Typography  className={classes.body1}>\n                            <li>Livestream & Catalog</li>\n                            <li>Browse by video or topic</li>\n                            <li>User-defined libraries</li>\n                            <li style={{fontWeight: '600'}}>Unlimited comments</li>\n                        </Typography>\n                        <Typography  className={classes.h6}>\n                            $20/month\n                        </Typography>\n                        <Button variant='contained' className={`${classes.ctaButton} ${classes.ctaRed}`}>\n                            SUBSCRIBE\n                        </Button>\n                    </Paper>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Pricing)\n\n","import { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n// import { useAuth0 } from '@auth0/auth0-react'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport CardMedia from '@material-ui/core/CardMedia'\n\nimport Footer from '../landing/Footer'\nimport { capitalize } from '../utils/helpers'\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    drawer: {\n        position: 'relative',\n        height: '100%',\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    logoBox: {\n        display: 'flex',\n        flexDirection: 'row',\n        padding: theme.spacing(2),\n    },\n    logoText: {\n        fontSize: '24px',\n        fontWeight: '400',\n    },\n    channelBox: {\n        padding: theme.spacing(2),\n    },\n    avatar: {\n        borderRadius: '50%',\n        width: '100px',\n    },\n    initialCircle: {\n        width: '100px',\n        height: '100px',\n        borderRadius: '50%',\n        backgroundColor: 'darkGray',\n        color: 'white',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'canter',\n    },\n    initial: {\n        fontSize: '30pt',\n        width: '100%',\n        textAlign: 'center',\n    },\n    csRed: {\n        color: theme.palette.csRed.main,\n    },\n    link: {\n        color: 'inherit',\n        textDecoration: 'none',\n    },\n    footer: {\n        position: 'absolute',\n        left: 0,\n        bottom: 0,\n    }\n})\n\nconst ReactiveDrawer = ({section, drawerItems, activePage, mobileOpen,\n                         handleDrawerToggle, channel, classes}) => {\n\n    // const { logout } = useAuth0()\n    // const logoutWithRedirect = () => {\n    //     logout({\n    //         returnTo: window.location.origin\n    //     })\n    // }\n    const history = useHistory()\n    const logoutWithRedirect = () => {\n        history.push(\"/\")\n    }\n\n    const [channelCard, setChannelCard] = useState(null)\n    useEffect(() => {\n        if (!channel) {\n            return\n        } else if (channel.thumbnail) {\n            setChannelCard(\n                <CardMedia\n                    className={classes.avatar}\n                    component='img'\n                    src={channel.thumbnail}\n                    title={channel.channel_title + 'Avatar'}\n                />\n            )\n        } else {\n            setChannelCard(\n                <div className={classes.initialCircle}>\n                    <Typography className={classes.initial}>\n                        {channel.channel_title.charAt(0)}\n                    </Typography>\n                </div>\n            )\n        }\n    }, [channel])\n\n    useEffect(() => {\n        handleDrawerToggle('closed')\n    }, [activePage])\n\n    if (!channel) {\n        return null\n    }\n\n    const drawer = (\n        <div className={classes.drawer}>\n            <Link to={`../../dashboard`} className={classes.link}>\n                <div className={classes.logoBox}>\n                    <Typography className={classes.logoText}>Comment</Typography>\n                    <Typography className={`${classes.logoText} ${classes.csRed}`}>Sense</Typography>\n                </div>\n            </Link>\n            <div className={classes.channelBox}>\n                {channelCard}\n                <Typography classes={{root: classes.h6}}>{channel.channel_title}</Typography>\n            </div>\n            <List>\n                {drawerItems.map((text, index) => (\n                    <Link to={`/${section}/${text}`} className={classes.link} key={text}>\n                        <ListItem button key={text} selected={text === activePage}>\n                            <Typography classes={{root: classes.h6}}>\n                                {capitalize(text)}\n                            </Typography>\n                        </ListItem>\n                    </Link>\n                ))}\n                <Link onClick={logoutWithRedirect} className={classes.link} key={'logout'}>\n                    <ListItem button key={'logout'}>\n                        <Typography classes={{root: classes.h6}}>\n                            Logout\n                        </Typography>\n                    </ListItem>\n                </Link>\n            </List>\n            <Footer align='col' />\n        </div>\n    )\n\n    return(\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            <Hidden mdUp implementation=\"css\">\n                <Drawer\n                    variant=\"temporary\"\n                    anchor={'left'}\n                    open={mobileOpen}\n                    onClose={handleDrawerToggle}\n                    classes={{paper: classes.drawerPaper}}\n                    ModalProps={{keepMounted: true}}\n                >\n                    {drawer}\n                </Drawer>\n            </Hidden>\n            <Hidden smDown implementation=\"css\">\n                <Drawer\n                    classes={{paper: classes.drawerPaper}}\n                    variant=\"permanent\"\n                    open\n                >\n                    {drawer}\n                </Drawer>\n            </Hidden>\n        </nav>\n    )\n}\n\nexport default withStyles(styles)(ReactiveDrawer)\n\n","import { useState, useEffect } from 'react'\nimport { Card, withStyles, Typography } from '@material-ui/core'\nimport Button from '@material-ui/core/Button';\n\nlet styles = (theme) => ({\n    default: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignContents: 'flex-start',\n        margin: '5px',\n        padding: '5px',\n        backgroundColor: '#f5f5f5',\n    },\n    attribute: {\n        borderRadius: '12px',\n        height: '24px',\n        margin: '3px 1px',\n    },\n    activeAttribute: {\n        borderRadius: '12px',\n        height: '24px',\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        margin: '3px 1px',\n    },\n})\n\n\nconst Attribute = ({type, value, onClick, active, classes}) => {\n\n    const [err, setErr] = useState(null)\n    const [color, setColor] = useState(\"\")\n    useEffect(() => {\n        switch(type) {\n            case 'label': {\n                setColor('default')\n                break\n            }\n            case 'tok': {\n                setColor('link')\n                break\n            }\n            default: {\n                setErr('Unrecognized Type')\n            }\n        }\n    }, [])\n\n    return(\n        <>\n            {err\n                ? <div>{err}</div>\n                : <Button\n                    size='small'\n                    variant='contained'\n                    color={color}\n                    classes={{root: active ? classes.activeAttribute : classes.attribute}}\n                    onClick={onClick}\n                ><span dangerouslySetInnerHTML={{__html: value}}></span></Button>\n            }\n        </>\n    )\n}\n\nexport default withStyles(styles)(Attribute)\n","import { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\n\nconst switchStyles = (theme) => ({\n    switchBase: {\n        '&$checked': {\n          color: theme.palette.csRed.main,\n        },\n        '&$checked + $track': {\n          backgroundColor: theme.palette.csRed.main,\n        },\n      },\n      checked: {},\n      track: {},\n})\n\nexport default withStyles(switchStyles)(Switch)\n","import { useState, useEffect, useCallback } from 'react'\nimport debounce from 'lodash.debounce'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TextField from '@material-ui/core/TextField'\nimport SortIcon from '@material-ui/icons/Sort';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nimport Attribute from './feed/Attribute'\nimport { capitalize } from '../../utils/helpers'\nimport RedSwitch from '../../utils/RedSwitch'\n\n\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignContent: 'center',\n        textAlign: 'center',\n        width: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        flexWrap: 'wrap',\n        width: '100%',\n        marginTop: theme.spacing(1),\n    },\n    actionButton: {\n        backgroundColor: theme.palette.csRed.main,\n        color: 'white',\n        top: '0',\n        margin: '0px 5px',\n    },\n    search: {\n        flexGrow: '1',\n    },\n    sortIcon: {\n        height: '100%',\n    },\n})\n\nconst Controller = ({type, control, setControl, display=null, setDisplay=null, sortOptions=null,\n                    allLabels=null, actionMessage=null, action=null, actionLabel=null,\n                    refresh=null, lastRefresh=null, classes}) => {\n\n    // Update control (in parent) when sort and local variables are changed\n    const [search, setSearch] = useState(\"\")\n    const [sort, setSort] = useState(null)\n    const [labels, setLabels] = useState(null)\n    useEffect(() => {\n        if (search !== control.search) {\n            setControl({...control, search})\n        }\n        if (sort !== control.sort) {\n            setControl({...control, sort})\n        }\n        if (JSON.stringify(labels) !== JSON.stringify(control.labels)) {\n            setControl({...control, labels})\n        }\n    }, [search, sort, labels])\n\n    // Set default values from parent on load.\n    useEffect(() => {\n        setSearch(control.search)\n        setSort(control.sort)\n        if (allLabels) {\n            setLabels(allLabels.reduce((o, lab) => ({ ...o, [lab]: false}), {}))\n        }\n    }, [sortOptions, allLabels])\n\n    // Debounce search by 1 second\n\tconst handleSearch = (e) => {\n        debouncedSearch(e.target.value)\n\t}\n    const debouncedSearch = useCallback(\n        debounce(key => setSearch(key), 1000)\n    )\n\n    // If sortOptions are provided, update sort on change\n    const handleSort = (e) => {\n        setSort(e.currentTarget.dataset.value)\n        handleSortClose()\n    }\n    const [anchorEl, setAnchorEl] = useState(null)\n    const handleSortClick = (e) => setAnchorEl(e.currentTarget)\n    const handleSortClose = () => setAnchorEl(null)\n    const sortOpen = Boolean(anchorEl)\n\n    // Labels are off by default. Click on label to toggle status.\n    const handleLabel = (label, status) => {\n        const newLabels = JSON.parse(JSON.stringify(labels))\n        newLabels[label] = status\n        setLabels(newLabels)\n    }\n\n    // If sentiment is enabled for user, show toggle and turn on by default\n    const toggleSentiment = () => {\n        setDisplay({...display, sentimentOn: !display.sentimentOn})\n    }\n    useEffect(() => {\n        if (display && display.sentimentEnabled) {\n            setDisplay({...display, sentimentOn: true})\n        }\n    }, [])\n\n    return(\n        <Container className={classes.root}>\n            <div className={classes.row}>\n                {/* Counter */}\n                <Typography className={classes.body1}>{actionMessage}</Typography>\n\n                {/* Main button (e.g. ANALYZE) */}\n                {actionLabel && action\n                    ? <Button\n                        onClick={action}\n                        className={classes.actionButton}\n                        variant='contained'\n                    >{actionLabel}</Button>\n                    : null\n                }\n\n                {/* Refresh */}\n                {lastRefresh && refresh &&\n                    <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n                        <Typography className={classes.body1}>Last updated {lastRefresh}</Typography>\n                        <IconButton onClick={refresh}>\n                            <RefreshIcon className={classes.sortIcon} />\n                        </IconButton>\n                    </div>\n                }\n            </div>\n            <div className={classes.row}>\n                {/* Search bar */}\n                <TextField\n                    placeholder=\"Search\"\n                    classes={{\n                        root: `${classes.h6} ${classes.search}`,\n                    }}\n                    inputProps={{ 'aria-label': 'search' }}\n                    onChange={handleSearch}\n                />\n\n                {/* Sort button */}\n                {sortOptions && <>\n                    <IconButton onClick={handleSortClick}>\n                        <SortIcon className={classes.sortIcon} />\n                    </IconButton>\n                    <Menu keepMounted anchorEl={anchorEl} open={sortOpen} onClose={handleSortClose}>\n                        {sortOptions.map(option => (\n                            <MenuItem\n                                key={option}\n                                data-value={option}\n                                onClick={handleSort}\n                                selected={option === sort}\n                            >{capitalize(option)}</MenuItem>\n                        ))}\n                    </Menu>\n                </>}\n            </div>\n            <div className={classes.row}>\n                {/* Attribute selector (e.g. LABEL) */}\n                {control.labels && <>\n                    {Object.entries(control.labels).map(([key, value]) => (\n                        <Attribute type='label' value={key} active={value}\n                                onClick={() => handleLabel(key, !value)} />\n                    ))}\n                </>}\n\n                {/* Sentiment switch */}\n                <div style={{flexGrow: 1}} />\n                {display && display.sentimentEnabled &&\n                    <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n                        <RedSwitch\n                            checked={display.sentimentOn}\n                            onChange={toggleSentiment}\n                        />\n                        <Typography className={classes.body1}>Sentiment</Typography>\n                    </div>\n                }\n            </div>\n        </Container>\n    )\n}\n\nexport default withStyles(styles)(Controller)\n","import { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: 'inherit',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontWeight: '400',\n    },\n})\n\nconst ErrorPage = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <Typography className={classes.error}>ERROR</Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(ErrorPage)\n","import { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        textAlign: 'center',\n        width: 'inherit',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontWeight: '400',\n    },\n})\n\nconst EndPage = ({classes}) => {\n    return (\n        <div className={classes.root}>\n            <Typography className={classes.error}>END OF FEED</Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(EndPage)\n","import { useState, useEffect, useRef, useCallback } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\n\nimport LoadingCircle from '../../../utils/LoadingCircle'\nimport ErrorPage from '../../../utils/ErrorPage'\nimport EndPage from '../../../utils/EndPage'\nimport { postData } from '../../../utils/helpers'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0',\n        padding: '10px 0',\n        alignItems: 'center',\n    },\n    loading: {\n        margin: '20px 0',\n    },\n    error: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        padding: '20px',\n        fontWeight: '400',\n    }\n})\n\nconst Feed = ({query, control, render, classes}) => {\n\n    // Add new items to the bottom of the feed\n    const [feed, setFeed] = useState([])\n    const [maxScore, setMaxScore] = useState(null)\n    const addToFeed = async (items) => {\n        if (feed.length === 0) {\n            if ('score' in items[0]) {\n                setMaxScore(items[0].score)\n            }\n        }\n        setFeed(feed => [...feed, items.map(item => render(item, maxScore ? maxScore : items[0].score))])\n    }\n\n    // Load content from api\n    const [pageNumber, setPageNumber] = useState(0)\n    const [isLoading, setIsLoading] = useState(false)\n    const [isEnd, setIsEnd] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const handleLoad = async () => {\n        setIsLoading(true)\n        try {\n            let request_data = {\n                ...query.data,\n                ...control,\n                pageNumber,\n            }\n            let result = await postData(query.api, request_data)\n            if ('error' in result) {\n                setIsLoading(false)\n                setHasError(true)\n                console.log(`Error with post results: ${result['error']}`)\n            } else if (result.items.length === 0) {\n                setIsEnd(true)\n                setIsLoading(false)\n            } else {\n                addToFeed(result.items).then(() => setIsLoading(false))\n            }\n        }\n        catch (err) {\n            console.log(`Error loading new items: ${err}`)\n            setIsLoading(false)\n            setHasError(true)\n        }\n    }\n\n    // Trigger load when page number is updated\n    useEffect(() => {\n        if (pageNumber > 0) {\n            handleLoad()\n        }\n    }, [pageNumber])\n\n    // Update pageNumber when bottom of screen visible\n    const [observing, setObserving] = useState(false)\n    const handleObserver = (entries) => {\n        const target = entries[0];\n        setObserving(target.isIntersecting)\n        if (target.isIntersecting && !isLoading && !hasError && !isEnd) {\n            setPageNumber((p) => p + 1)\n        }\n    }\n\n    // Hookup the observer element\n    const loader = useRef(null)\n    useEffect(() => {\n        const option = {\n            root: null,\n            rootMargin: \"20px\",\n            threshold: 0\n        };\n        const observer = new IntersectionObserver(handleObserver, option)\n        if (loader.current) observer.observe(loader.current)\n    }, [])\n\n    // Reset feed when control changes\n    useEffect(() => {\n        if (observing) {\n            if (pageNumber === 1) {\n                handleLoad()\n            } else {\n                setPageNumber(1)\n            }\n        } else {\n            setPageNumber(0)\n        }\n        setFeed([])\n        setMaxScore(0)\n    }, [control])\n\n    return (\n        <div className={classes.root}>\n            {feed}\n            <div ref={loader} />\n            {isLoading ? <LoadingCircle /> : null}\n            {hasError ? <ErrorPage /> : null}\n            {isEnd && !hasError ? <EndPage /> : null}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Feed)\n","import { useState, useEffect } from 'react'\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { postData, formatTimestamp, thousands_separator } from '../../../utils/helpers';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        height: '100%',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        width: '100%',\n    },\n    link: {\n        width: '100%',\n        height: '100%',\n        color: 'inherit',\n        textDecoration: 'none',\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\n        gridAutoRows: '1fr',\n        [theme.breakpoints.up('md')]: {\n            gridTemplateColumns: '1fr 1fr 1fr',\n            gridAutoRows: '1fr',\n        },\n    },\n    cover: {\n        gridColumn: '1 / span 2',\n        height: 'auto',\n        marginBottom: '0',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        [theme.breakpoints.up('md')]: {\n            gridColumn: '1 / span 1'\n        },\n\n    },\n    details: {\n        height: '100%',\n        gridColumn: '3 / span 3',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        padding: '2px 8px',\n        boxSizing: 'border-box',\n        fontSize: '90%',\n        [theme.breakpoints.up('md')]: {\n            gridColumn: '2 / span 2',\n            padding: '8px 16px',\n            fontSize: '100%',\n        },\n    },\n    actionArea: {\n        alignItems: 'flex-start',\n        fontSize: '1em',\n        margin: '0',\n        padding: '0',\n        height: '100%',\n        flexGrow: 1,\n        flexDirection: 'column',\n        alignItems: 'stretch',\n    },\n    csRed: {\n        color: theme.palette.csRed.main\n    },\n})\n\nconst VideoCard = ({video, classes}) => {\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea className={classes.actionArea}>\n                <Link to={\"../dashboard/video/\" + video.id} className={classes.link}>\n                    <div className={classes.cover}>\n                        {video.thumbnail\n                            ? <CardMedia\n                                component='img'\n                                src={video.thumbnail}\n                                title={video.title}\n                            />\n                            : null\n                        }\n                    </div>\n                    <div className={classes.details}>\n                        <Typography noWrap className={classes.h6} dangerouslySetInnerHTML={{__html: video.title}}></Typography>\n                        <Typography className={classes.body1}>{formatTimestamp(video.published, 'date')}</Typography>\n                        {video.db_comments > 0\n                            ? <Typography className={`${classes.body1} ${classes.csRed}`}>\n                                {thousands_separator(video.db_comments)} comments analyzed\n                            </Typography>\n                            : null\n                        }\n                    </div>\n                </Link>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(VideoCard)\n","import { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1000,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        backgroundColor: fade(theme.palette.primary.main, 0.5),\n    },\n    barLoader: {\n        height: '5px',\n        width: '100%',\n    },\n    bar: {\n        backgroundColor: theme.palette.csRed.main\n    },\n})\n\nconst LoadingBar = ({loadTime=null, classes}) => {\n\n    const TIME_STEP = 500 // ms\n    const [elapsed, setElapsed] = useState(0)\n    useEffect(() => {\n        const timer = setInterval(() => {\n            setElapsed(prevElapsed => prevElapsed + TIME_STEP)\n        }, TIME_STEP);\n        return () => {\n              clearInterval(timer);\n        }\n    }, [])\n\n    const [progress, setProgress] = useState(0)\n    useEffect(() => {\n        const targetTime = loadTime ? loadTime : 5\n        const loadRatio = elapsed / (targetTime * 1000)\n        const cleanRatio = Math.round(loadRatio * 100)\n        if (cleanRatio >= 99) {\n            setProgress(99)\n        } else {\n            setProgress(cleanRatio)\n        }\n    }, [elapsed])\n\n    return (\n        <div className={classes.root}>\n            <LinearProgress\n                className={classes.barLoader}\n                classes={{bar: classes.bar}}\n                variant='determinate'\n                value={progress}\n            />\n        </div>\n    )\n}\n\nexport default withStyles(styles)(LoadingBar)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    },\n})\n\nconst ScanVideos = ({close, refresh, loadtime, classes}) => {\n\n    const handleScan = () => {\n        close()\n        refresh()\n    }\n\n    return (\n        <Dialog open={true} onClose={close}>\n            <DialogContent style={{textAlign: 'center'}}>\n                <Typography className={classes.h5}>\n                    Welcome to CommentSense!\n                </Typography>\n                <Typography className={classes.body1}>\n                    Scan your YouTube videos to get started.\n                    {<br />}\n                    Estimated time: {loadtime}s\n                </Typography>\n            </DialogContent>\n            <DialogActions style={{display: 'flex', flexDirection: 'row', justifyContent: 'center'}}>\n                <Button onClick={close} variant='contained'>CANCEL</Button>\n                <Button onClick={handleScan} variant='contained' className={classes.csRed}>SCAN VIDEOS</Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nexport default withStyles(styles)(ScanVideos)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport VideoCard from './feed/VideoCard'\nimport { postData, thousands_separator, formatTimestamp } from '../../utils/helpers'\nimport LoadingBar from '../../utils/LoadingBar'\nimport ErrorPage from '../../utils/ErrorPage'\nimport ScanVideos from '../welcome/ScanVideos'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\n// Rendered only after dashboard has a valid channel object\nconst Videos = ({user, setUser, channel, setChannel, classes}) => {\n\n    const [channelId, setChannelId] = useState(null)\n    const [dbVideos, setDBVideos] = useState(null)\n    const [totalVideos, setTotalVideos] = useState(null)\n    const [lastScan, setLastScan] = useState(null)\n    const [scanOpen, setScanOpen] = useState(false)\n    useEffect(() => {\n        if (channel) {\n            setChannelId(channel.id)\n            setTotalVideos(channel.total_videos)\n            setDBVideos(channel.db_videos)\n            setLastScan(channel.last_scan ? formatTimestamp(channel.last_scan) : 'never')\n            if (channel.db_videos === 0) {\n                setScanOpen(true)\n            }\n        }\n    }, [channel])\n\n    // Action Messaage is displayed on top of the controller, next to action button\n    const [loadtime, setLoadtime] = useState(null)\n    const [actionMessage, setActionMessage] = useState(\"\")\n    useEffect(() => {\n        setLoadtime(5 + Math.ceil((totalVideos - dbVideos) / 50))\n        setActionMessage(`${thousands_separator(dbVideos)} scanned / ${thousands_separator(totalVideos)} videos`)\n    }, [dbVideos, totalVideos])\n\n    // ScanVideos is the primary action for the videos page.\n    const [grayout, setGrayout] = useState(null)\n    const [hasError, setHasError] = useState(false)\n    const refresh = async () => {\n        setGrayout(loadtime)\n        try {\n            const response = await postData('/api/refresh_videos', {\n                user,\n                channelId,\n                uploads_playlist: channel.uploads_playlist,\n            })\n            /*\n            const response = {\n                db_videos: Integer,\n                total_videos: Integer,\n                end: String,\n                error: String,\n                new_quota: Integer,\n                last_scan: timestamp\n            }\n            */\n            setTotalVideos(response.total_videos)\n            setDBVideos(response.db_videos)\n            setLastScan(formatTimestamp(response.last_scan))\n            setUser({...user, quota: response.new_quota})\n            setChannel({\n                ...channel,\n                db_videos: dbVideos,\n                total_videos: totalVideos,\n            })\n            setControl({...control, dbVideos})\n            setGrayout(false)\n        }\n        catch {\n            setHasError(true)\n            setGrayout(false)\n        }\n    }\n\n    // Contains controller settings. Controller updates, Feed adds to api call.\n    const [control, setControl] = useState(null)\n    useEffect(() => {\n        setControl({search: \"\", sort: \"recent\", dbVideos})\n    }, [])\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/videos',\n        data: {channelId, pageSize: 10},\n    }\n    const render = (video) => {\n        return <VideoCard video={video} key={video.id} />\n    }\n\n    return(\n        <div className={classes.root}>\n            {control && <Controller\n                type='videos'\n                control={control}\n                setControl={setControl}\n                actionMessage={actionMessage}\n                refresh={refresh}\n                lastRefresh={lastScan}\n                sortOptions={['recent', 'oldest', 'top']}\n            />}\n            {hasError\n                ? <ErrorPage />\n                : <Feed\n                    query={query}\n                    control={control}\n                    render={render}\n                />}\n            {grayout && <LoadingBar loadTime={grayout} />}\n            {scanOpen && <ScanVideos\n                close={() => setScanOpen(false)}\n                refresh={refresh}\n                loadtime={loadtime}\n            />}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Videos)\n","import { useEffect, useState, useRef, useCallback } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport debounce from 'lodash.debounce'\n\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbDownAltIcon from '@material-ui/icons/ThumbDownAlt';\n\nimport LoadingCircle from '../../utils/LoadingCircle';\nimport { numberWithCommas, formatTimestamp } from '../../utils/helpers';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        borderRadius: '0',\n    },\n    video: {\n        width: '100%',\n        border: 'none',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    videoBackground: {\n        width: '100%',\n        backgroundColor: 'black',\n    },\n    details: {\n        padding: '10px',\n        boxSizing: 'border-box',\n        height: 'auto',\n        width: '100%',\n    },\n    line: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n        },\n    },\n    pair: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n    },\n})\n\nconst VideoPlayer = ({video, classes}) => {\n\n    useEffect(() => {\n        window.addEventListener('resize', handleResize)\n    }, [])\n\n    const background = useRef(null)\n    const player = useRef(null)\n    const handleResize = useCallback(\n        debounce(() => {\n            if (background.current) {\n                const width = background.current.offsetWidth\n                background.current.style.height = Math.ceil(width / 16 * 9) + \"px\"\n                if (player) {\n                    player.current.style.height = Math.ceil(width / 16 * 9) + \"px\"\n                }\n            }\n        }, 200)\n    )\n    useEffect(() => {\n        handleResize()\n    }, [player, background])\n\n    return(\n        <Paper className={classes.root}>\n            <div ref={background} className={`${classes.video} ${classes.videoBackground}`}>\n                {!video\n                    ? <LoadingCircle />\n                    :  <CardMedia\n                        ref={player}\n                        component=\"iframe\"\n                        className={classes.video}\n                        image={\"http://youtube.com/embed/\" + video.id}\n                    />\n                }\n            </div>\n            {video\n            ? <div className={classes.details} >\n                <Typography className={classes.h6} style={{lineHeight: '1.1', marginBottom: '10px'}}>{video ? video.title : \"\"}</Typography>\n                <div className={classes.line}>\n                    <div className={classes.pair}>\n                        <VisibilityIcon style={{paddingRight: '10px'}}/>\n                        <Typography noWrap={true} className={classes.body1}>\n                            {numberWithCommas(video.views)}\n                        </Typography>\n                    </div>\n                    <div className={classes.pair}>\n                        <ScheduleIcon style={{paddingRight: '10px'}}/>\n                        <Typography className={classes.body1} noWrap={true}>\n                            {formatTimestamp(video.published, 'date')}\n                        </Typography>\n                    </div>\n                    <div className={classes.pair}>\n                        <ThumbUpAltIcon style={{paddingRight: '10px'}}/>\n                        <Typography className={classes.body1} >\n                            {numberWithCommas(video.likes)}\n                        </Typography>\n                        <ThumbDownAltIcon style={{padding: '0px 10px'}}/>\n                        <Typography className={classes.body1} >\n                            {numberWithCommas(video.dislikes)}\n                        </Typography>\n                    </div>\n                </div>\n            </div>\n            : null\n            }\n        </Paper>\n    )\n    // }\n}\n\nexport default withStyles(styles)(VideoPlayer)\n","import { useContext, useState, useEffect } from 'react'\nimport { Box, withStyles, Typography } from '@material-ui/core'\nimport { TopicContext } from '../Topics'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    bar: {\n        height: '100%',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        backgroundColor: '#8EC9FF',\n        zIndex: 0,\n    },\n    label: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        width: 'inherit',\n        overflow: 'hidden',\n    },\n    token: {\n        zIndex: 1,\n        flex: 1,\n        minWidth: 0,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n    score: {\n        zIndex: 1,\n    },\n    sentiment: {\n        position: 'absolute',\n        bottom: '0',\n        left: '0',\n        height: '5px',\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n    },\n    pos: {\n        height: '100%',\n        backgroundColor: 'green',\n    },\n    neg: {\n        height: '100%',\n        backgroundColor: 'red',\n    },\n    neu: {\n        height: '100%',\n        backgroundColor: 'dodgerblue',\n    },\n})\n\nconst TopicBar = ({token, score, max, sentiment, classes}) => {\n\n    const context = useContext(TopicContext)\n    const [sentimentOn, setSentimentOn] = useState(true)\n    useEffect(() => {\n        setSentimentOn(context.display.sentimentOn)\n    }, [context])\n\n    const [xScore, setXScore] = useState(0)\n    const [xPos, setXPos] = useState(0)\n    const [xNeg, setXNeg] = useState(0)\n    const [xNeu, setXNeu] = useState(0)\n    useState(() => {\n        if (!sentiment) {\n            return\n        }\n        let fullWidth = Math.round((score/max)*100)\n        let posWidth = Math.round((sentiment.pos/max)*100)\n        let negWidth = Math.round(((sentiment.pos + sentiment.neg)/max)*100) - posWidth\n        let neuWidth = fullWidth - negWidth - posWidth\n        setXScore(fullWidth)\n        setXPos(posWidth)\n        setXNeg(negWidth)\n        setXNeu(neuWidth)\n    }, [score, max, sentiment])\n\n    let displayToken = (token.length > 25) ? token.slice(0, 25) + \"...\" : token\n\n    return(\n        <div style={{width: \"100%\"}}>\n            <Box className={classes.bar} width={xScore + \"%\"}/>\n            {sentimentOn\n                ? <div className={classes.sentiment}>\n                    <Box className={classes.pos} width={xPos + \"%\"}/>\n                    <Box className={classes.neg} width={xNeg + \"%\"}/>\n                    <Box className={classes.neu} width={xNeu + \"%\"}/>\n                </div>\n                : null\n            }\n            <div className={classes.label}>\n                <Typography variant='h6' className={classes.token} dangerouslySetInnerHTML={{__html: displayToken}}></Typography>\n                <Typography variant='h6' className={classes.score}>{score}</Typography>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(TopicBar)\n","import { useState, useEffect, useContext } from 'react';\nimport { Card, withStyles, Typography } from '@material-ui/core'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { TopicContext } from '../Topics'\n\nimport { thousands_separator, postData } from '../../../utils/helpers'\n\nlet styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'row',\n        alignContents: 'flex-start',\n        padding: '0',\n        marginBottom: theme.spacing(1),\n        height: '100%',\n    },\n    sentiment: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        width: '10px',\n        height: '100%',\n        backgroundColor: 'blue',\n        zIndex: '10',\n    },\n    details: {\n        flexGrow: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        alignContents: 'flex-start',\n        margin: '0',\n        padding: '5px',\n    },\n    relativeText: {\n        textDecoration: 'underline',\n        cursor: 'pointer',\n    },\n    repliesBlock: {\n        width: '100%',\n        paddingLeft: '50px',\n        boxSizing: 'border-box',\n    },\n})\n\n\nconst CommentCard = ({comment, showRelatives=true, classes}) => {\n\n    const context = useContext(TopicContext)\n    const [sentimentOn, setSentimentOn] = useState(true)\n    useEffect(() => {\n        setSentimentOn(context.display.sentimentOn)\n    }, [context])\n\n    const [color, setColor] = useState(\"\")\n    const [leftPad, setLeftPad] = useState('5px')\n    useEffect(() => {\n        if (sentimentOn) {\n            setLeftPad('20px')\n            if (comment.sentiment > 0) {\n                setColor('green')\n            } else if (comment.sentiment < 0) {\n                setColor('red')\n            } else {\n                setColor('dodgerBlue')\n            }\n        } else {\n            setLeftPad('5px')\n        }\n    }, [sentimentOn])\n\n    const [repliesVisible, setRepliesVisible] = useState(false)\n    const [replies, setReplies] = useState(null)\n    const handleReplies = async () => {\n        if (!replies) {\n            try {\n                const response = await postData('/api/comments', {parentId: comment.id, all: true})\n                if (response.error) {\n                    console.log(`Error getting comment replies: ${response.error}`)\n                } else if (response.items) {\n                    setReplies(response.items.map(c => <SubComment comment={c} showRelatives={false} />))\n                }\n            }\n            catch(e) {\n                console.log(`Error loading comment replies: ${e}`)\n            }\n        }\n        setRepliesVisible(!repliesVisible)\n    }\n\n    const [parentVisible, setParentVisible] = useState(false)\n    const [parent, setParent] = useState(null)\n    const handleParent = async () => {\n        if (!parent) {\n            try {\n                const response = await postData('/api/comments', {commentIds: [comment.parent]})\n                if (response.error) {\n                    console.log(`Error getting comment parent: ${response.error}`)\n                } else if (response.items) {\n                    setParent(response.items.map(c => <SubComment comment={c} showRelatives={false} />))\n                }\n            }\n            catch(e) {\n                console.log(`Error loading comment parent: ${e}`)\n            }\n        }\n        setParentVisible(!parentVisible)\n    }\n\n    return(\n        <>\n        <Card className={classes.root} >\n            {sentimentOn\n                ? <div className={classes.sentiment} style={{backgroundColor: `${color}`}}></div>\n                : null\n            }\n            <div className={classes.details} style={{paddingLeft: `${leftPad}`}}>\n\n                {parentVisible\n                    ? <>{parent}<div style={{height: '20px'}} /></>\n                    : null\n                }\n                <Typography className={classes.body1}><b>{comment.author}</b></Typography>\n                <Typography dangerouslySetInnerHTML={{__html: comment.text}}></Typography>\n                <div style={{display: 'flex', flexDirection: 'row'}}>\n                    {comment.likes\n                        ? <Typography className={classes.body1}>\n                            <ThumbUpAltIcon style={{fontSize: '1em', padding: '0px 10px'}}/>\n                            {thousands_separator(comment.likes)}\n                        </Typography>\n                        : null\n                    }\n                    {comment.n_children > 0 && showRelatives\n                        ? <>\n                            <div style={{width: '10px'}} />\n                            <Typography className={`${classes.body1} ${classes.relativeText}`} onClick={handleReplies}>\n                                {comment.n_children} {comment.n_children > 1 ? 'replies' : 'reply'}\n                            </Typography>\n                        </>\n                        : null\n                    }\n                    {comment.parent && showRelatives\n                        ? <>\n                            <div style={{width: '10px'}} />\n                            <Typography className={`${classes.body1} ${classes.relativeText}`} onClick={handleParent}>\n                                Replying to..\n                            </Typography>\n                        </>\n                        : null\n                    }\n                </div>\n                {repliesVisible\n                    ? <>{replies}<div style={{height: '5px'}} /></>\n                    : null\n                }\n            </div>\n        </Card>\n        </>\n    )\n}\n\nexport default withStyles(styles)(CommentCard)\n\nconst SubComment = withStyles(styles)(CommentCard)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport CommentCard from './feed/CommentCard'\n\nimport { postData } from '../../utils/helpers'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport ErrorPage from '../../utils/ErrorPage'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n})\n\n// Rendered only after dashboard has a valid channel object\nconst Comments = ({user, channel, videoId=null, commentIds=[], classes}) => {\n\n    const [control, setControl] = useState({})\n    useEffect(() => {\n        setControl({pageSize: 10, search: \"\", sort: 'top'})\n    }, [])\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/comments',\n        data: {user, commentIds},\n    }\n    const render = (comment) => {\n        return <CommentCard comment={comment} key={comment.id} />\n    }\n\n    const [pageLoading, setPageLoading] = useState(null)\n    const [hasError, setHasError] = useState(null)\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (pageLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [pageLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {pageLoading || hasError\n                ? placeholder\n                : <>\n                    <Controller\n                        type='comments'\n                        control={control}\n                        setControl={setControl}\n                        sortOptions={['recent', 'oldest', 'top']}\n                    />\n                    <Feed\n                        query={query}\n                        control={control}\n                        render={render}\n                    />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Comments)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Typography from '@material-ui/core/Typography';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\n\nimport TopicBar from './TopicBar'\nimport Comments from '../Comments'\nimport Attribute from './Attribute'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        width: '100%',\n        borderRadius: '0',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n    },\n    accordian: {\n        padding: 0,\n        margin: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        width: '100%',\n        padding: '10px',\n        boxSizing: 'border-box',\n    },\n    topicDetail: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    detail: {\n        alignItems: 'center',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n    },\n    comments: {\n        maxHeight: '400px',\n        overflow: 'auto',\n    }\n})\n\nconst TopicCard = ({videoId=null, topic, max, sentimentOn=false, classes}) => {\n\n    const [commentIds, setCommentIds] = useState(null)\n    const [videoIds, setVideoIds] = useState(null)\n    const [labels, setLabels] = useState(null)\n    const [toks, setToks] = useState(null)\n    const getComments = () => {\n        if (!commentIds) {\n            if (videoId) {\n                setLabels(<Attribute type='label' value={topic.label} />)\n                setCommentIds(topic.comments)\n            } else {\n                setLabels(<Attribute type='label' value={topic.label} />)\n                setVideoIds(topic.videos.map(v => v[0]))\n                let newCommentIds = []\n                topic.videos.forEach(v => {\n                    newCommentIds.push(...v[1])\n                })\n                setCommentIds(newCommentIds)\n            }\n            setToks(topic.toks.map(tok => <Attribute type='tok' value={tok} />))\n        }\n    }\n\n    return (\n        <Accordion className={classes.root} onChange={getComments}>\n            <AccordionSummary className={classes.summary}>\n                <TopicBar\n                    token={topic.token}\n                    score={topic.score}\n                    max={max}\n                    sentiment={topic.sentiment}\n                />\n            </AccordionSummary>\n            <AccordionDetails className={classes.accordian}>\n                <div className={classes.topicDetail}>\n                    <Typography className={classes.body1}>Label:</Typography>\n                    <div className={classes.detail}>{labels}</div>\n                    <div style={{width: '30px'}} />\n                    <Typography className={classes.body1}>Substitutes: </Typography>\n                    <div className={classes.detail}>{toks}</div>\n                </div>\n                {commentIds\n                    ? <div className={classes.comments}>\n                        <Comments videoId={videoId} topic={topic.token} commentIds={commentIds} />\n                    </div>\n                    : null\n                }\n            </AccordionDetails>\n        </Accordion>\n    )\n}\n\nexport default withStyles(styles)(TopicCard)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nimport Controller from './Controller'\nimport Feed from './feed/Feed'\nimport TopicCard from './feed/TopicCard'\n\nimport { postData, thousands_separator, formatTimestamp } from '../../utils/helpers'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport LoadingBar from '../../utils/LoadingBar'\nimport ErrorPage from '../../utils/ErrorPage'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    grayout: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1000,\n        backgroundColor: fade(theme.palette.primary.main, 0.5),\n    },\n})\n\nconst TopicContext = createContext()\n\n// Rendered only after dashboard has a valid channel object\nconst Topics = ({user, page, channel=null, video=null, analyze=null,\n                 grayout=null, classes}) => {\n\n    const [channelId, setChannelId] = useState(null)\n    const [dbComments, setDBComments] = useState(null)\n    const [dbVideos, setDBVideos] = useState(null)\n    const [totalComments, setTotalComments] = useState(null)\n    const [lastRefresh, setLastRefresh] = useState(null)\n    const [allLabels, setAllLabels] = useState(null)\n    useEffect(() => {\n        if (channel && page === 'channel') {\n            setChannelId(channel.id)\n            setDBComments(channel.db_comments)\n            setDBVideos(channel.total_videos ? channel.total_videos : \"?\")\n            setAllLabels(channel.labels ? channel.labels : null)\n            setLastRefresh(channel.last_refresh ? formatTimestamp(channel.last_refresh) : 'never')\n        } else if (video && page === 'video') {\n            setChannelId(video.channel_id)\n            setDBComments(video.db_comments)\n            setTotalComments(parseInt(video.total_comments))\n            setAllLabels(video.labels ? video.labels : null)\n            setLastRefresh(video.last_refresh ? formatTimestamp(video.last_refresh) : 'never')\n        }\n    }, [channel, video])\n\n    // Contains controller settings. Controller updates, Feed adds to api call.\n    const [control, setControl] = useState(null)\n    const [display, setDisplay] = useState(null)\n    useEffect(() => {\n        setControl({pageSize: 25, search: \"\"})\n        setDisplay({sentimentEnabled: user.sentiment_on, sentimentOn: false})\n    }, [])\n\n\n    // Action Messaage is displayed on top of the controller, next to action button\n    const [actionMessage, setActionMessage] = useState(\"\")\n    useEffect(() => {\n        if (page === 'channel') {\n            setActionMessage(`\n                ${thousands_separator(dbComments)} comments,\n                ${thousands_separator(dbVideos)} videos\n            `)\n        } else if (page === 'video') {\n            setActionMessage(`\n                ${thousands_separator(dbComments)} comments /\n                ${thousands_separator(totalComments)} total\n            `)\n        }\n    }, [dbComments, dbVideos, totalComments])\n\n    // Refresh (channel or video) is a secondary action for the videos and channel page.\n    // Recalculate the entity's topics list and reset dbComments.\n    const [pageLoading, setPageLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const refresh = async () => {\n        setPageLoading(true)\n        try {\n            const response = await postData(`/api/refresh_${page}`, {\n                channelId, // must contain valid channelId\n                videoId: video ? video.id : null,\n            })\n            /*\n            const response = {\n                status: String,\n                error: String,\n                db_comments: Integer,\n                last_refresh: String,\n            }\n            */\n            setDBComments(response.db_comments)\n            setLastRefresh(formatTimestamp(response.last_refresh))\n            setPageLoading(false)\n        }\n        catch {\n            setHasError(true)\n            setPageLoading(false)\n        }\n    }\n\n    // Tells the Feed where to get items, and how to render them.\n    const query = {\n        api: '/api/topics',\n        data: {\n            channelId,\n            pageSize: 25,\n            videoId: video ? video.id : null,\n        },\n    }\n    const render = (topic, maxScore=0) => {\n        return <TopicCard\n            videoId={video ? video.id : null}\n            topic={topic}\n            max={maxScore}\n            key={topic.token}\n        />\n    }\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (pageLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [pageLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {control && display && <Controller\n                type='topics'\n                control={control}\n                setControl={setControl}\n                display={display}\n                setDisplay={setDisplay}\n                actionMessage={actionMessage}\n                action={analyze}\n                actionLabel={'ANALYZE'}\n                allLabels={allLabels}\n                refresh={refresh}\n                lastRefresh={lastRefresh}\n            />}\n            {pageLoading || hasError\n                ? placeholder\n                : <TopicContext.Provider value={{display}}>\n                    <Feed\n                        query={query}\n                        control={control}\n                        render={render}\n                    />\n                </TopicContext.Provider>\n                }\n            {grayout && <LoadingBar loadTime={grayout} />}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Topics)\nexport {TopicContext}\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport RedSwitch from '../../utils/RedSwitch'\nimport { thousands_separator } from '../../utils/helpers'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        width: '100%',\n        margin: '5px 0',\n    },\n    head: {\n        margin: '0',\n    },\n    bold: {\n        fontWeight: '600',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    },\n    centered: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n})\n\nconst ActionControl = ({isOpen, handleClose, actionTitle, remaining, quota, verb,\n                        actionLabel, action, classes}) => {\n\n    const [max, setMax] = useState(100)\n    const [maxError, setMaxError] = useState(null)\n    const [resetToken, setResetToken] = useState(false)\n    const handleMax = (e) => {\n        let target = e.target.value\n        if (target > remaining && !resetToken) {\n            target = remaining\n            setMaxError(\"Target must be less than remaining\")\n        } else if (target > quota) {\n            target = quota\n            setMaxError(\"Target must be less than quota\")\n        } else {\n            setMaxError(null)\n        }\n        setMax(target)\n    }\n\n    const [cost, setCost] = useState(0) // how much user's quota will be reduced (estimate)\n    const [loadtime, setLoadtime] = useState(0) // how many seconds will it take\n    useEffect(() => {\n        let _maxResults // how many results per youtube api call\n        let _perCall // the api quota for one call\n        if (verb === 'Analyze') {\n            _maxResults = 100\n            _perCall = 1\n        } else if (verb === 'Scan') {\n            _maxResults = 50\n            _perCall = 100\n        }\n        const _nCalls = Math.ceil(max / _maxResults) // est number of calls\n        setCost(_nCalls * _perCall)\n        setLoadtime(Math.round(5 + _nCalls * 0.9))\n    }, [max])\n\n    // Create a popup menu with details/options for analyze\n    const handleActionConfirm = () => {\n        action(max, resetToken, loadtime)\n        handleClose()\n    }\n    const handleActionClose = () => {\n        handleClose()\n    }\n\n    return (\n        <Dialog open={isOpen} onClose={handleActionClose}>\n            <DialogTitle className={classes.centered}>{actionTitle}</DialogTitle>\n            <DialogContent>\n                <div className={`${classes.row} ${classes.head}`}>\n                    <Typography className={classes.body1}>{verb}</Typography>\n                    <TextField\n                        error\n                        autoFocus\n                        margin=\"none\"\n                        id=\"actionText\"\n                        type=\"tel\"\n                        inputProps={{min: 0,style: {width: '50px', textAlign: 'right'}}}\n                        className={classes.body1}\n                        onChange={handleMax}\n                        value={max}\n                    />\n                    <Typography className={classes.body1} style={{marginLeft: '5px'}}>\n                        / {thousands_separator(remaining)} remaining\n                    </Typography>\n                </div>\n                {maxError\n                    ? <Typography className={classes.error}>{maxError}</Typography>\n                    : null\n                }\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Restart from {verb === 'Scan' ? 'Newest' : 'Oldest'}:\n                    </Typography>\n                    <RedSwitch\n                        size='small'\n                        checked={resetToken}\n                        onChange={() => setResetToken(!resetToken)}\n                    />\n                </div>\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Est. time:\n                    </Typography>\n                    <Typography className={`${classes.body1} ${classes.bold}`}>\n                        {thousands_separator(loadtime)} seconds\n                    </Typography>\n                </div>\n                <div className={classes.row}>\n                    <Typography className={classes.body1}>\n                        Quota Cost:\n                    </Typography>\n                    <Typography className={`${classes.body1} ${classes.bold}`}>\n                        {thousands_separator(cost)} / {thousands_separator(quota)}\n                    </Typography>\n                </div>\n            </DialogContent>\n            <DialogActions className={classes.centered}>\n                <Button onClick={handleActionClose} variant=\"contained\" color=\"secondary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleActionConfirm} variant=\"contained\" className={classes.csRed}>\n                    GO\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(ActionControl)\n","import { useState, useEffect, createContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport { postData, thousands_separator } from '../../utils/helpers'\nimport VideoPlayer from \"./VideoPlayer\"\nimport Topics from \"./Topics\"\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport ErrorPage from '../../utils/ErrorPage'\nimport ActionControl from './ActionControl'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        flexWrap: 'nowrap',\n        margin: '0',\n        paddingTop: '10px',\n    },\n})\n\nconst Video = ({user, setUser, channel, classes}) => {\n\n    const { videoId } = useParams()\n    const [channelId, setChannelId] = useState(null)\n    const [video, setVideo] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n\n    // On load, get video data from database and youtube\n    useEffect(() => {\n        setChannelId(channel.id)\n        setIsLoading(true)\n        try {\n            fetch(`/api/video/${videoId}`)\n                // const data = {\n                //   error: String,\n                //   videoData: {\n                //     channel_id: \"UCtinbF-Q-fVthA0qrFQTgXQ\"\n                //     channel_title: \"CaseyNeistat\"\n                //     created: \"Fri, 06 Aug 2021 18:57:48 GMT\"\n                //     db_comments: 441\n                //     dislikes: \"1301\"\n                //     id: \"TXLUafBNjnc\"\n                //     labels: null\n                //     last_refresh: \"2021-08-07 20:01:39.093248\"\n                //     last_scan: \"2021-08-07 15:40:25.671196\"\n                //     likes: \"60557\"\n                //     next_page_token: \"QURTSl9pME0yLU54V1RkWm1KVXd5ZXJGYnk0OGp6cDVHSnpLbWt4Rmw0VU1HQ0NjM0haVThteXZraEZZTk4ydXZfX0Y2SnhOQzg3RXhyY2QyaFVheGM0S3JQSWJVdHhTMFh6SE8xOTdmckpOMGVUWW5zVTZQR0pPaXllQ1FQclMxem5rQnMzMk1kRnpVa19CWHV6SzhMSHMwSWlxU3JfWFc4Mmpoclc2SUZGZjNTY01WdzktVmY0dl9VNnVwdlNFV21FZXdzekVMbVFDVDJneEQtUENycG1oc0V0SlRKMHc2VWRhNWJKdjR5TjFqN1lKMzROMlgwcmdGazA2NU9UN3VmSzNqbEdSRTFsZm1OQndIM2ViNnVvaU4zZ0pkN1JxaGVWQWRRbF9vWFFWNzFOZ0M0V3VWeHlyUHJCR2Z2dkNpX0V5NGhrRmNpdDJTSDlCVmlnbDd6YTc4eUp6cVVGNXFiMDFWM1lsRTRpVld4bUZ3N2ZVX0JHZU5wLUtNcFBmU3VuLXUtbmFOZVBwMFVxcEhyQ1ZvbXF2akJKRWU5anpGdV9tVHhuaGNJTnprNUhpY1dYbGtzTENVV0cyNjE5S0NCVV9CWTQtMGJzZ05BdWZ4QnpBUGJOSDJZN1ZoeGh5WGhjTS1rdFkwZkNXVEtON1AtNWZaM0hXNDF1OWN3Y2QwQ2J0ZkhwbFpiTjJJMVB4bkk4V0NrTjNrV1lvanJtbWpxWmZ5bEdxcFoybXBqR2VDZWd6Q19EOVRSbmJqM1kwaUlYU0s5Rl91ZXBRV0dMVVg1VzZEVkhJSjRaTkRfRFpUNFd3WjNkM2dIaGRMdHB0YjVRU3RFYldqVnhrcVZELWNNTXpBNVVpbXdUNUhKbTl5SkdsYTdFZzd5LThpbkQ2VUd4MjRkY0p0NmVlVzFwQV93Qjlkb0tIaGVZSmJwM3FaRmhxS0hBS1p4OHh1YW5QSGtRRkhINXFkZVNZWDZQUWJrQ21uWFRUU01rdVFKdk8zcEFXb3p1bzU5UkNvWkVYbm0wNUV1Qy1UbUkxcHNTMGtrNERvbFNJamx1eXpwcEcxaVV5QmJ1eHVsWTZFSkpOX2J3ZVdEdTFsT3Ftbm9lOWxFNTA4UXQwRmdOakJRZ2RQZjM3UWdWU0RmdU1vMlRPUXZGdnFPbjVtaWdUVEtuSXdBVFZlQmtUdmZwOUxlejh0TTkxcThwcmNNLVotN3J0N3ktVWVuM3QyeXoxdFpHWnoyV2VjQUVlcDBzdFNrZDdRWnBPdnNkMk9sclRKbTlLTHpyUE9WT09UVVowaTlIX2xuUFlxU2VtY20tNkxYM3Z6RnpkYlVzVk14QWdaR0JXdjhsZFFBZE1TTklOdTZwZV9JZE5NTkkzRXFkYmlETTg4SldFaU1HRmpmVzZsRnJuQURtLTROYnhtbi1iRVc1VDhHRHM5R2szTy1ybk85T0JWRFJ6U2VrSUNybXhGTVlielZZVzRtdndmc1NtVXFjemprWGhTRHp1YjJxVEs0elpTZjNlVzNGU2V1OUQ2eGRxY2ZlcUFZTkVqcTdwU3gxM19FNndTTTBOejBPam1DRkNpQzMtMUt2OGUwb1ZKZzZHemZuTmY2MjZOS05TZ2xJWXlSZDdYdw==\"\n                //     published: \"26 October, 2020\"\n                //     thumbnail: \"https://i.ytimg.com/vi/TXLUafBNjnc/mqdefault.jpg\"\n                //     title: \"the SURPRISE of her life!!!\"\n                //     total_comments: \"2875\"\n                // }}\n                .then(res => res.json())\n                .then(data => {\n                    if (!data.video_data) {\n                        console.log(\"No video data.\")\n                    } else {\n                        setVideo(data.video_data)\n                    }\n                    setIsLoading(false)\n                })\n        }\n        catch(e) {\n            console.log(`Error fetching video: ${e}`)\n            setHasError(true)\n            setIsLoading(false)\n        }\n    }, [])\n\n    // Get new comments from youtube, analyze all, then re-cluster\n    const [isAnalyzing, setIsAnalyzing] = useState(false)\n    const analyze = async (maxComments=100, resetToken=false, loadtime=5) => {\n        setIsAnalyzing(loadtime)\n        const request_data = {\n            user,\n            channelId,\n            videoId,\n            maxComments,\n            resetToken,\n        }\n        postData('/api/analyze_comments', request_data).then(data => {\n            if (data.error) {\n                setHasError(true)\n                setIsAnalyzing(false)\n                console.log(`Error analyzing videos: ${data.error}`)\n            } else if (data.video) {\n                setVideo({...video, ...data.video})\n                setUser({...user, quota: data.new_quota})\n                setIsAnalyzing(false)\n            }\n        })\n    }\n\n    // Create a popup menu with details/options for analyze\n    const [actionOpen, setActionOpen] = useState(false)\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (isLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [isLoading, hasError])\n\n    return(\n        <div className={classes.root}>\n            {isLoading || hasError\n                ? placeholder\n                : <>\n                    <VideoPlayer video={video} />\n                    <Topics\n                        user={user}\n                        page='video'\n                        video={video}\n                        analyze={() => setActionOpen(true)}\n                        grayout={isAnalyzing}\n                    />\n                    <ActionControl\n                        // isOpen, handleClose, actionTitle, remaining, quota, verb, actionLabel, action\n                        isOpen={actionOpen}\n                        handleClose={() => setActionOpen(false)}\n                        actionTitle=\"Analyze Comments\"\n                        remaining={video ? video.total_comments - video.db_comments : 0}\n                        quota={user.quota}\n                        verb=\"Analyze\"\n                        actionLabel=\"ANALYZE NOW\"\n                        action={analyze}\n                    />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Video)\n","import Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { thousands_separator } from '../../utils/helpers';\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        height: '80px',\n        padding: '10px',\n        boxSizing: 'border-box',\n    },\n    cover: {\n        height: '60px',\n        width: '60px',\n    },\n    avatar: {\n        borderRadius: '50%',\n    },\n    details: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        padding: '0 8px',\n        boxSizing: 'border-box',\n    },\n    csRed: {\n        color: theme.palette.csRed.main\n    },\n})\n\nconst ChannelCard = ({channel, connectChannel, classes}) => {\n    /*\n    channels = [{\n        id: '..',\n        thumbnail: 'url',\n        title: '..',\n        total_videos: N,\n        uploads_playlist: '..',\n    }]\n    */\n\n    const handleConnect = () => {\n        connectChannel(channel)\n    }\n\n    return (\n        <Card>\n            <CardActionArea onClick={handleConnect}  className={classes.root}>\n                <div className={classes.cover}>\n                    {channel.thumbnail\n                        ? <CardMedia\n                            className={classes.avatar}\n                            component='img'\n                            src={channel.thumbnail}\n                            title=\"channel thumbnail\"\n                        />\n                        : null\n                    }\n                </div>\n                <div className={classes.details}>\n                    <Typography noWrap className={classes.h6} dangerouslySetInnerHTML={{__html: channel.title}}></Typography>\n                    <Typography className={classes.body1}>{thousands_separator(channel.total_videos)} videos</Typography>\n                </div>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(ChannelCard)\n","import { useState, useEffect } from 'react'\n// import { useAuth0 } from '@auth0/auth0-react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport TextField from '@material-ui/core/TextField'\n\nimport ChannelCard from './ChannelCard'\nimport ErrorPage from '../../utils/ErrorPage'\nimport LoadingCircle from '../../utils/LoadingCircle'\nimport { postData } from '../../utils/helpers'\n\n// import { gapi, loadAuth2 } from 'gapi-script'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\nconst ConnectChannel = ({user, setUser, classes}) => {\n    const history = useHistory()\n\n    // 1. Get a list of channels\n    //    a) text-input username, get by username\n    //    b) OAuth 2 token, get mine=true\n    const [username, setUsername] = useState(null)\n    const handleUsername = e => {\n        setUsername(e.target.value)\n    }\n\n    const [channels, setChannels] = useState(null)\n    const [isLoading, setIsLoading] = useState(false)\n    const [hasError, setHasError] = useState(false)\n    const getChannels = async () => {\n        setIsLoading(true)\n        try {\n            const response = await postData('/api/get_channels', {username})\n            if (response.error || !response.channels) {\n                setHasError(true)\n                console.log(response.error)\n                setIsLoading(false)\n            }\n            else {\n                setChannels(response.channels)\n                setIsLoading(false)\n            }\n        }\n        catch {\n            console.log('error loading channels')\n            setIsLoading(false)\n        }\n    }\n\n    // 2. Select channel\n    // 3. Update user, redirect back to dashboard\n    const connectChannel = async (channel) => {\n        setIsLoading(true)\n        try {\n            const response = await postData('/api/set_channel', {user, channel})\n            setUser({...user, channelId: channel.id})\n            history.go(0)\n        }\n        catch {\n            console.log(\"Error connecting channel\")\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <Dialog open={true}>\n            <DialogTitle id=\"form-dialog-title\">\n                <Typography className={classes.h5}>Connect your YouTube Channel</Typography>\n            </DialogTitle>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"none\"\n                    type=\"text\"\n                    id=\"username\"\n                    placeholder=\"Enter YouTube username\"\n                    // inputProps={{min: 0,style: {width: '50px', textAlign: 'right'}}}\n                    className={classes.body1}\n                    onChange={handleUsername}\n                    value={username}\n                />\n                <Button onClick={getChannels}>GET CHANNELS</Button>\n                {isLoading && <LoadingCircle />}\n                {hasError && <ErrorPage />}\n                {channels && channels.map(channel => {\n                    return <ChannelCard channel={channel} connectChannel={connectChannel} />\n                })}\n            </DialogContent>\n            {/* <DialogActions>\n                <Button onClick={() => {}}>Sign In with Google</Button>\n                <Button onClick={logout}>Logout</Button>\n            </DialogActions> */}\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(ConnectChannel)\n\n\n\n\n\n\n    // const CLIENT_ID = '116695775417-h8su8m4k9u9vvkfrssor92st63q0ui3k.apps.googleusercontent.com'\n\n    // const signIn = async() => {\n    //     await window.gapi.auth2.getAuthInstance()\n    //             .signIn({scope: \"https://www.googleapis.com/auth/youtube.readonly\"})\n    //     await window.gapi.client.setAPiKey(CLIENT_ID)\n    //     const response = await window.gapi.client.youtube.channels.list({\n    //         \"part\": [\n    //           \"snippet, contentDetails, id, statistics\"\n    //         ],\n    //         \"mine\": true\n    //       })\n    //     console.log(response)\n    // }\n\n    // // ref: https://github.com/LucasAndrad/gapi-script-live-example/blob/master/src/components/GoogleLogin.js\n    // const signIn = async () => {\n    //     const auth2 = await loadAuth2(gapi, CLIENT_ID)\n    //     if (!auth2.isSignedIn.get()) {\n    //         console.log(`auth2 is not signed in`)\n    //     }\n\n    //     const authenticate = async () => {\n    //         return gapi.auth2.getAuthInstance()\n    //             .signIn({scope: \"https://www.googleapis.com/auth/youtube.readonly\"})\n    //             .then(function() { console.log(\"Sign-in successful\"); },\n    //                   function(err) { console.error(\"Error signing in\", err); });\n    //     }\n\n    //     const loadClient = async () => {\n    //         gapi.client.setApiKey(\"YOUR_API_KEY\");\n    //         return gapi.client.load(\"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\")\n    //             .then(function() { console.log(\"GAPI client loaded for API\"); },\n    //                 function(err) { console.error(\"Error loading GAPI client for API\", err); });\n    //     }\n\n    //     // Make sure the client is loaded and sign-in is complete before calling this method.\n    //     function execute() {\n    //         return gapi.client.youtube.channels.list({\n    //             \"part\": [\n    //                 \"snippet, contentDetails, id, statistics\"\n    //             ],\n    //             \"mine\": true\n    //         })\n    //             .then(function(response) {\n    //                 // Handle the results here (response.result has the parsed body).\n    //                 console.log(response);\n    //             },\n    //             function(err) { console.error(\"Execute error\", err); });\n    //       }\n    //       authenticate().then(loadClient).then(execute)\n    // }\n\n    // const responseGoogle = (response) => {\n    //     console.log(response);\n    // }\n\n    // const {signIn} = useGoogleLogin({\n    //     onSuccess: responseGoogle,\n    //     onFailure: responseGoogle,\n    //     clientId: CLIENT_ID,\n    //     isSignedIn: true,\n    // })\n","import { useState, useEffect } from 'react'\nimport { useParams, Switch, Route } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport ReactiveDrawer from './Drawer'\nimport Videos from './pages/Videos'\nimport Video from './pages/Video'\nimport Topics from './pages/Topics'\nimport ConnectChannel from './welcome/ConnectChannel'\nimport { postData, capitalize } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle';\nimport ErrorPage from '../utils/ErrorPage';\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        [theme.breakpoints.up('md')]: {\n            alignItems: 'flex-start',\n        },\n    },\n    content: {\n        width: '100%',\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '80%',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: `calc(100% - 240px)`,\n            maxWidth: '800px',\n            marginLeft: drawerWidth,\n        },\n        boxSizing: 'border-box',\n    },\n    titleLine: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        width: 'inherit',\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('md')]: {\n            marginRight: 0,\n            display: 'none',\n        },\n    },\n})\n\nconst DEFAULT_USER = {\n    id: 'DEMO',\n}\n\nconst Dashboard = ({auth0User, classes}) => {\n\n    const params = useParams()\n    const activePage = params.tab\n    const [dashboardLoading, setDashboardLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n\n    const [user, setUser] = useState(null)\n    const getUser = async (user) => {\n        setDashboardLoading(true)\n        try {\n            const response = await postData('/api/user', {user})\n            if (!response.user) {\n                setDashboardLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading user from database: ${response.error}`)\n                }\n            } else {\n                setUser(response.user)\n            }\n        }\n        catch(e) {\n            setDashboardLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n\n    useEffect(() => {\n        if (auth0User) {\n            getUser({\n                id: auth0User.sub,\n                email: auth0User.email,\n                email_verified: auth0User.email_verified,\n                nickname: auth0User.nickname,\n                picture: auth0User.picture,\n            })\n        } else {\n            getUser(DEFAULT_USER)\n        }\n    }, [auth0User])\n\n    const [channel, setChannel] = useState(null)\n    const getChannel = async (user) => {\n        try {\n            setDashboardLoading(true)\n            const payload = {channelId: user.channel_id}\n            console.log(payload)\n            const response = await postData('/api/channel', payload)\n            /*\n            const response = {channel: {\n                created: \"Fri, 06 Aug 2021 18:52:49 GMT\"\n                db_comments: 633\n                db_videos: 50\n                id: \"UCtinbF-Q-fVthA0qrFQTgXQ\"\n                ignore_list: null\n                labels_list: null\n                last_refresh: \"2021-08-07 20:28:37.211097\"\n                last_scan: \"2021-08-07 08:08:15.470295\"\n                next_page_token: \"CDIQAA\"\n                subs_list: null\n                thumbnail: \"https://...\"\n                title: \"CaseyNeistat\"\n                topics: (361) [{}, ]\n                labels: ['PERSON'...]\n                total_videos: null\n            }}\n            */\n            if (!response.channel) {\n                setDashboardLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading channel from Dashboard: ${response.error}`)\n                }\n            } else {\n                setChannel(response.channel)\n                setDashboardLoading(false)\n            }\n        }\n        catch(e) {\n            setDashboardLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n\n    const [unlinked, setUnlinked] = useState(false)\n    useEffect(() => {\n        console.log(user)\n        if (!user || hasError) {\n            // If user comes back null, show error\n            setDashboardLoading(false)\n            return\n        } else if (!user.channel_id) {\n            // If user is not linked to channel, show ConnectChannel component\n            setDashboardLoading(false)\n            setUnlinked(true)\n        } else if (!channel) {\n            // If channel isn't connected yet, getChannel.\n            // **User is updated by other compoents, namely quota & total_videos, which shouldn't reload page\n            getChannel(user)\n        }\n    }, [user])\n\n    const [placeholder, setPlaceholder] = useState(\"\")\n    useEffect(() => {\n        if (dashboardLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else if (unlinked) {\n            setPlaceholder(<ConnectChannel user={user} setUser={setUser} />)\n        } else {\n            setPlaceholder(\"\")\n        }\n    }, [dashboardLoading, hasError, unlinked])\n\n    const drawerItems = ['videos', 'topics', 'settings']\n    const [mobileOpen, setMobileOpen] = useState(false)\n    const handleDrawerToggle = (target=null) => {\n        switch (target) {\n            case 'open':\n                setMobileOpen(true)\n                break\n            case 'closed':\n                setMobileOpen(false)\n                break\n            default:\n                setMobileOpen(!mobileOpen)\n        }\n    }\n\n    return(\n        <div className={classes.root}>\n\n            {/* Navigation menu on the left. Fixed xl lg, Hidden md sm xs. */}\n            <ReactiveDrawer\n                section={'dashboard'}\n                drawerItems={drawerItems}\n                activePage={activePage}\n                channel={channel}\n                mobileOpen={mobileOpen}\n                handleDrawerToggle={handleDrawerToggle}\n            />\n\n            {/* Page title */}\n            <div className={classes.content}>\n                <div className={classes.titleLine}>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h3\" noWrap>\n                        {capitalize(activePage)}\n                    </Typography>\n                </div>\n\n                {/* Page content */}\n                {dashboardLoading || hasError || unlinked\n                    ? placeholder\n                    : <Switch>\n                        <Route exact path={`/dashboard/videos`}>\n                            <Videos user={user} setUser={setUser} channel={channel}\n                                    setChannel={setChannel} key='videos'/>\n                        </Route>\n                        <Route exact path={`/dashboard/topics`}>\n                            <Topics user={user} channel={channel} page='channel' key='topics' />\n                        </Route>\n                        <Route exact path={`/dashboard/video/:videoId`}>\n                            <Video user={user} setUser={setUser} channel={channel} key='video' />\n                        </Route>\n                        <Route exact path={`/dashboard/settings`}>\n                            Settings\n                        </Route>\n                    </Switch>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Dashboard)\n","import { useState, useEffect } from \"react\"\nimport { withStyles } from '@material-ui/core/styles'\nimport { postData } from \"../../utils/helpers\"\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: '0',\n        padding: '0',\n    },\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '10px 0',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    }\n})\n\nconst UsersAdmin = ({userData, classes}) => {\n\n    // Fetch the list of users\n    const [users, setUsers] = useState(null)\n    const [isLoading, setIsLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n    useEffect(() => {\n        const getUsers = async () => {\n            const token = null\n            const results = await postData('/api/get_users', {token})\n            /*\n            const users = [{\n                id:\n                username:\n                password:\n                email:\n                email_verified:\n                quota:\n                sentiment_on:\n                channel_id:\n            }]\n            */\n            if (!results.users) {\n                setHasError(true)\n                setIsLoading(false)\n            }\n            setUsers(results.users)\n            setIsLoading(false)\n        }\n        getUsers()\n    }, [])\n\n    useEffect(() => {\n        console.log(users)\n    }, [users])\n\n    // Display relevant info in a table\n\n    // User editor overlay\n\n    // Add / Edit user button\n\n    // Reset password workflow\n\n    return (<></>)\n}\n\nexport default withStyles(styles)(UsersAdmin)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport LoadingCircle from '../utils/LoadingCircle'\nimport { Tab } from '@material-ui/core'\n\nconst styles = (theme) => ({\n    root: {\n\n    },\n    activeOption: {\n        backgroundColor: 'lightgray'\n    },\n    field: {\n        padding: '0 5px',\n    },\n    table: {\n        minWidth: 650,\n    },\n    buttonBar: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: '30px'\n    }\n})\n\nconst BlogManager = ({posts, blog, setBlog, newPost, removePost, classes}) => {\n\n    const [selected, setSelected] = useState(null)\n    const handleClick = (post) => {\n        if (selected) {\n            let confirmed = window.confirm('All unsaved data will be lost. Would you like to continue?')\n            if (!confirmed) {\n                return null\n            }\n        }\n        if (post.id === selected) {\n            setSelected(null)\n            setBlog(null)\n        } else {\n            setSelected(post.id)\n            setBlog(post)\n        }\n    }\n\n    const handleRemove = (event, post) => {\n        removePost(post)\n        event.stopPropagation()\n    }\n\n    useEffect(() => {\n        // Set the selected Post\n        if (blog) {\n            setSelected(blog.id)\n        }\n    }, [])\n\n    return(\n        <div id=\"root\">\n            <Typography variant='h5'>Blog Posts</Typography>\n            {posts\n                ? <TableContainer component={Paper}>\n                    <Table className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell></TableCell>\n                                <TableCell>ID</TableCell>\n                                <TableCell>Created</TableCell>\n                                <TableCell>Title</TableCell>\n                                <TableCell>Excerpt</TableCell>\n                                <TableCell>Active</TableCell>\n                                <TableCell>Delete</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {posts.map(post => {\n                                return (<TableRow hover key={post.id} onClick={() => handleClick(post)}\n                                                  role='checkbox' selected={selected === post.id}>\n                                    <TableCell><Checkbox checked={selected === post.id} /></TableCell>\n                                    <TableCell component=\"th\" scope=\"row\">{post.id}</TableCell>\n                                    <TableCell align=\"right\">{post.created ? post.created.slice(5,22) : null}</TableCell>\n                                    <TableCell align=\"right\">{post.title}</TableCell>\n                                    <TableCell align=\"right\">{post.excerpt}</TableCell>\n                                    <TableCell align=\"right\">{post.active}</TableCell>\n                                    <TableCell align=\"right\"><DeleteIcon onClick={(e) => handleRemove(e, post)} /></TableCell>\n                                </TableRow>)\n                            })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                : <LoadingCircle />\n            }\n            <div className={classes.buttonBar}>\n                <Button onClick={newPost} variant='contained' color='secondary'>New Post</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogManager)\n","import { useState, useEffect, useRef } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport _ from 'lodash'\n\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport Switch from '@material-ui/core/Switch'\n\nimport ReactQuill, { Quill } from 'react-quill'\nimport ImageUploader from \"quill-image-uploader\"\n\nimport LoadingCircle from '../utils/LoadingCircle'\n\nQuill.register(\"modules/imageUploader\", ImageUploader)\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'left',\n        margin: '0',\n        paddingTop: '10px',\n        maxWidth: '768px',\n    },\n    blogEditor: {\n        marginTop: '20px',\n        backgroundColor: 'white',\n    },\n    inputField: {\n        marginTop: '10px',\n    },\n    buttonContainer: {\n        marginTop: '30px',\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n    publish: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    thumbnailSection: {\n        // border: '1px solid gray',\n        padding: '10px',\n        marginTop: '15px',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'left',\n        \"& img\": {\n            width: '300px',\n            height: 'auto',\n        }\n    }\n})\n\nconst BlogEditor = ({blog, setBlog, updateBlog, classes}) => {\n\n    // Manage active post data\n    const [id, setId] = useState(\"\")\n    const [title, setTitle] = useState(\"\")\n    const [permalink, setPermalink] = useState(\"\")\n    const [thumbnail, setThumbnail] = useState(null)\n    const [excerpt, setExcerpt] = useState(\"\")\n    const [blogContent, setBlogContent] = useState(\"\")\n    const [postActive, setPostActive] = useState(\"\")\n\n    useEffect(() => {\n        setId(blog.id)\n        setTitle(blog.title)\n        setPermalink(blog.permalink)\n        setThumbnail(blog.thumbnail)\n        setExcerpt(blog.excerpt)\n        setBlogContent(blog.content)\n        setPostActive(blog.active)\n    }, [])\n\n    useEffect(() => {\n        setBlog(prevBlog => ({\n            ...prevBlog,\n            title: title,\n            permalink: permalink,\n            thumbnail: thumbnail,\n            excerpt: excerpt,\n            content: blogContent,\n            postActive: postActive\n        }))\n    }, [title, permalink, thumbnail, excerpt, blogContent, postActive])\n\n    const saveChanges = () => {\n        updateBlog({\n            id: id,\n            title: title,\n            permalink: permalink,\n            thumbnail: thumbnail,\n            excerpt: excerpt,\n            content: blogContent,\n            active: postActive,\n        })\n    }\n\n    const [thumbnailLoading, setThumbnailLoading] = useState(null)\n    const handleThumbnail = async (e) => {\n        setThumbnailLoading(true)\n        setThumbnail(null)\n        let file = e.target.files[0];\n        const formData = new FormData()\n        formData.append(\"image\", file)\n\n        fetch(\"https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22\",\n              {method: \"POST\", body: formData})\n            .then(response => response.json())\n            .then(result => {\n                setThumbnailLoading(null)\n                setThumbnail(result.data.url)\n            })\n    }\n\n    // Setup Quill Editor\n    function addCss(fileName) {\n        var head = document.head;\n        var link = document.createElement(\"link\");\n        link.type = \"text/css\";\n        link.rel = \"stylesheet\";\n        link.href = fileName;\n        head.appendChild(link);\n    }\n    const [modules, setModules] = useState(null)\n    const [formats, setFormats] = useState(null)\n    useEffect(() => {\n        addCss('//cdn.quilljs.com/1.3.6/quill.snow.css')\n        setModules({\n            toolbar: [\n              [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n              [{size: []}],\n              ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n              [{'list': 'ordered'}, {'list': 'bullet'},\n               {'indent': '-1'}, {'indent': '+1'}],\n              ['link', 'image', 'video'],\n              ['clean']\n            ],\n            clipboard: {\n              // toggle to add extra line breaks when pasting HTML:\n              matchVisual: false,\n            },\n            // ref: https://codesandbox.io/s/react-quill-demo-qr8xd?file=/src/editor.js:517-1216\n            imageUploader: {\n                upload: file => {\n                    return new Promise((resolve, reject) => {\n                        const formData = new FormData()\n                        formData.append(\"image\", file)\n\n                        fetch(\"https://api.imgbb.com/1/upload?key=d36eb6591370ae7f9089d85875e56b22\",\n                              {method: \"POST\", body: formData})\n                            .then(response => response.json())\n                            .then(result => {\n                                console.log(formData)\n                                resolve(result.data.url)\n                            })\n                        .catch(error => {\n                            reject(\"Upload failed\")\n                            console.error(\"Error:\", error)\n                        })\n                    })\n                }\n            }\n        })\n        setFormats([\n            'header', 'font', 'size',\n            'bold', 'italic', 'underline', 'strike', 'blockquote',\n            'list', 'bullet', 'indent',\n            'link', 'image', 'video',\n        ])\n    }, [])\n\n    return(\n        <div className={classes.root}>\n            <Typography>Post ID: {blog.id}</Typography>\n            <TextField\n                id=\"title\"\n                className={classes.inputField}\n                label=\"Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                helperText=\"The title of the blog post.\"\n            />\n            <TextField\n                id=\"permalink\"\n                className={classes.inputField}\n                label=\"Permalink\"\n                value={permalink}\n                onChange={(e) => setPermalink(e.target.value)}\n                helperText=\"The url suffix\"\n            />\n            <div className={classes.thumbnailSection}>\n                <Button variant='contained' component='label'>\n                    Upload Thumbnail\n                    <input type=\"file\" hidden onChange={e => handleThumbnail(e)}/>\n                </Button>\n                {thumbnailLoading ? <LoadingCircle /> : null}\n                {thumbnail ? <img src={thumbnail}></img> : null}\n            </div>\n            <div id='blog-editor' className={classes.blogEditor}>\n                {(modules && formats)\n                    ? <ReactQuill\n                        theme='snow'\n                        onChange={setBlogContent}\n                        value={blogContent}\n                        modules={modules}\n                        formats={formats}\n                        placeholder='Write a blog'\n                    />\n                    : null\n                }\n\n            </div>\n            <TextField\n                id=\"excerpt\"\n                className={classes.inputField}\n                label=\"Excerpt\"\n                value={excerpt}\n                onChange={(e) => setExcerpt(e.target.value)}\n                helperText=\"Information that will be displayed in search results\"\n            />\n            <div className={classes.publish}>\n                <Typography>Published: </Typography>\n                <Switch\n                    checked={postActive}\n                    onChange={(e) => setPostActive(e.target.checked)}\n                    name=\"Published\"\n                />\n            </div>\n            <div className={classes.buttonContainer}>\n                <Button variant='contained' color='secondary' onClick={saveChanges}>Save Changes</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogEditor)\n","import { useState, useEffect } from 'react'\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { postData } from '../../../utils/helpers';\n\nconst styles = (theme) => ({\n    root: {\n        height: '100%',\n        padding: '0',\n        margin: '10px 0 0 0',\n        boxSizing: 'border-box',\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    link: {\n        width: '100%',\n        height: '100%',\n        color: 'inherit',\n        textDecoration: 'none',\n        // flexDirection: 'row',\n        // justifyContent: 'center',\n        // alignItems: 'center',\n        // display: 'flex',\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr 1fr',\n        gridAutoRows: '1fr',\n    },\n    cover: {\n        gridColumn: '1',\n        height: 'auto',\n        marginBottom: '0',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    details: {\n        height: '100%',\n        gridColumn: '2 / span 2',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        padding: '8px 16px',\n        boxSizing: 'border-box',\n    },\n    actionArea: {\n        alignItems: 'flex-start',\n        fontSize: '1em',\n        margin: '0',\n        padding: '0',\n        height: '100%',\n        flexGrow: 1,\n        flexDirection: 'column',\n        alignItems: 'stretch',\n    },\n    channelImage: {\n        borderRadius: '50%',\n        maxHeight: '90px',\n        margin: '5%',\n        width: 'auto',\n    }\n})\n\nconst FeedCard = ({type, data, inactive, classes}) => {\n\n    const [pageUrl, setPageUrl] = useState(\"#\")\n    const [title, setTitle] = useState(\"\")\n    const [infoFields, setInfoFields] = useState([])\n    const [dbInfo, setDbInfo] = useState(\"\")\n    useEffect(() => {\n        switch (type) {\n            case 'channel': {\n                setTitle(data.channelTitle)\n                setInfoFields([`${data.description}`])\n                break\n            }\n            case 'video': {\n                setTitle(data.title)\n                setInfoFields([`${data.channelTitle} | ${data.published}`, data.description])\n                setPageUrl(\"../dashboard/video/\" + data.id)\n                break\n            }\n            case 'blog': {\n                setTitle(data.title)\n                setInfoFields([`${data.created}`, `${data.excerpt}`])\n                setPageUrl(\"../blog/\" + data.permalink)\n            }\n            default: break\n        }\n        if (Object.keys(data).includes(\"n_analyzed\")) {\n            setDbInfo(<Typography variant='body1' color='secondary'>{data.n_analyzed} comments analyzed</Typography>)\n        }\n    }, [])\n    // Compile data fields into flexbox\n\n    // Get info from database\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea className={classes.actionArea}>\n                <Link to={inactive ? '#' : pageUrl} className={classes.link}>\n                    <div className={classes.cover}>\n                        {data.thumbnail\n                            ? <CardMedia\n                                className={type === 'channel' ? classes.channelImage : \"\"}\n                                component='img'\n                                src={data.thumbnail}\n                                title={title}\n                            />\n                            : null\n                        }\n                    </div>\n                    <div className={classes.details}>\n                        <Typography variant='body1' style={{fontWeight: '400', fontSize: '1.2em'}}>{title}</Typography>\n                        {infoFields.map(field => <Typography variant='caption' key={field}>{field}</Typography>)}\n                        {dbInfo}\n                    </div>\n                </Link>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default withStyles(styles)(FeedCard)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport { useParams } from 'react-router'\n\nconst styles = (theme) => ({\n    root: {\n        width: '100%',\n        minHeight: '100%',\n        display: 'flex',\n        flexGrow: 1,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        padding: '0',\n        margin: '30px 0',\n        boxSizing: 'border-box',\n    },\n    paper: {\n        width: '100%',\n        padding: '5%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    title: {\n        fontSize: '1.5em',\n        fontWeight: '400',\n    },\n    content: {\n        \"& img\": {\n            width: '100%',\n        }\n    }\n})\n\nconst BlogPost = ({blog, classes}) => {\n\n    const [content, setContent] = useState(\"Content\")\n    useEffect(() => {\n        if (blog.content !== '') {\n            setContent(blog.content)\n        } else {\n            setContent('<p>Content</p>')\n        }\n    }, [blog])\n\n    return(\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <Typography>\n                    <div className={classes.title}>{blog.title ? blog.title : 'Title'}</div>\n                    <div className={classes.content} dangerouslySetInnerHTML={{ __html: content}}></div>\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogPost)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport Divider from '@material-ui/core/Divider';\n\nimport { postData } from '../utils/helpers'\nimport BlogManager from './BlogManager'\nimport BlogEditor from './BlogEditor'\nimport FeedCard from '../dashboard/pages/feed/FeedCard'\nimport BlogPost from './BlogPost'\n\n// This component is based on the first example ('Simple tabs') here:\n// https://material-ui.com/components/tabs/\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'left',\n        margin: '0',\n        paddingTop: '10px',\n        maxWidth: '768px',\n    },\n    tabBar: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center'\n    }\n})\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n            <Box p={3}>\n                {children}\n            </Box>\n            )}\n        </div>\n    );\n}\n\nconst a11yProps = (index) => {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n\nconst blankPost = (id) => {\n    return {\n        id: id,\n        title: \"\",\n        permalink: \"\",\n        thumbnail: null,\n        excerpt: \"\",\n        content: \"\",\n        active: false,\n        created: null,\n    }\n}\n\nconst BlogAdmin = ({classes}) => {\n\n    const [posts, setPosts] = useState(null)\n    const [maxId, setMaxId] = useState(0)\n    const getPosts = async() => {\n        setPosts(null)\n        fetch(`/api/blogs`)\n            .then(res => res.json())\n            .then(data => {\n                data.posts.forEach(post => {\n                    if (post.id > maxId) {\n                        setMaxId(post.id)\n                    }\n                })\n                setPosts(data.posts)\n            })\n    }\n\n    const uploadPost = async (post) => {\n        console.log(post)\n        const result = await postData('/api/add_blog', post)\n        console.log(result)\n        return result.successful\n    }\n\n    const removePost = async (post) => {\n        const result = await postData('/api/remove_blog', post)\n        if (result.successful) {\n            getPosts()\n        }\n        return result.successful\n    }\n\n    useEffect(() => {\n        getPosts()\n    }, [])\n\n    const [active, setActive] = useState(0)\n    const handleChange = (event, newValue) => {\n        setActive(newValue);\n    };\n\n    const newPost = () => {\n        let newPost = blankPost(maxId + 1)\n        setMaxId(id => id + 1)\n        setPosts(oldPosts => [...oldPosts, newPost])\n        setBlog(newPost)\n        setActive(1)\n    }\n\n    const [blog, setBlog] = useState(null)\n    const updateBlog = async (newBlog) => {\n        setBlog(newBlog)\n        let uploadSuccessful = await uploadPost(newBlog)\n        if (uploadSuccessful) {\n            getPosts()\n        } else {\n            console.log(\"upload unsuccessful\")\n        }\n    }\n\n    return(\n        <div className={classes.root}>\n            <div className={classes.tabBar}>\n                <Tabs value={active} onChange={handleChange}>\n                    <Tab label=\"Manager\" {...a11yProps(0)} />\n                    <Tab label=\"Editor\" {...a11yProps(1)} disabled={!blog} />\n                    <Tab label=\"Preview\" {...a11yProps(2)} disabled={!blog} />\n                </Tabs>\n            </div>\n            <TabPanel value={active} index={0}>\n                <BlogManager posts={posts} blog={blog} setBlog={setBlog}\n                             newPost={newPost} removePost={removePost} />\n            </TabPanel>\n            <TabPanel value={active} index={1}>\n                <BlogEditor blog={blog} setBlog={setBlog} updateBlog={updateBlog} />\n            </TabPanel>\n            <TabPanel value={active} index={2}>\n                <FeedCard type=\"blog\" data={blog} inactive={true}/>\n                <BlogPost blog={blog} />\n            </TabPanel>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(BlogAdmin)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    root: {\n        height: '100%',\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    paper: {\n        marginTop: '20px',\n        width: '100%',\n        padding: '2%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    }\n})\n\nconst Feedback = ({classes}) => {\n\n    const [feedback, setFeedback] = useState([])\n    useEffect(() => {\n        const getFeedback = async () => {\n            fetch('/api/get_feedback')\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data.feedback)\n                    setFeedback(data.feedback)\n                })\n        }\n        getFeedback()\n    }, [])\n\n    return(\n        <div className={classes.root}>\n            {feedback.map(f => {\n                return (\n                    <Paper className={classes.paper}>\n                        <Typography>{f.created}</Typography>\n                        <Typography>{f.email}</Typography>\n                        <hr style={{margin: '10px 0'}}/>\n                        <Typography>{f.message}</Typography>\n                    </Paper>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Feedback)\n","import { useState, useEffect, createContext } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nimport { postData } from '../utils/helpers'\nimport LoadingCircle from '../utils/LoadingCircle'\n\nconst styles = (theme) => ({\n    root: {\n        position: 'relative',\n        height: '100%',\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    paper: {\n        marginTop: '20px',\n        width: '100%',\n        padding: '2%',\n        boxSizing: 'border-box',\n        [theme.breakpoints.up('sm')]: {\n            width: '480px',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: '768px',\n        },\n    },\n    checkboxes: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n    },\n    checkbox: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n})\n\nconst Logs = ({classes}) => {\n\n    const APIs = ['recent', 'top', 'search', 'video', 'topics', 'comments',\n                  'youtube_comments', 'analyze', 'cluster', 'blog']\n\n    const [logs, setLogs] = useState([])\n    const [active, setActive] = useState(null)\n    useEffect(() => {\n        let allActive = {}\n        APIs.forEach(api => allActive[api] = true)\n        setActive(allActive)\n\n        const getLogs = async() => {\n            // Get logs\n            const url = '/api/get_logs'\n            const params = APIs\n            const results = await postData(url, params)\n            const newLogs = []\n            results.logs.forEach(item => {\n                let fields = item.split(\" - \")\n                if (fields.length === 5) {\n                    newLogs.unshift({time: fields[0].slice(5, 19), api: fields[3], details: fields[4]})\n                }\n            })\n            setLogs(newLogs)\n            calculateGoogleQuota(newLogs)\n        }\n        getLogs()\n    }, [])\n\n    const [feed, setFeed] = useState([])\n    const updateFeed = () => {\n        if (!logs) {\n            return\n        }\n        let newFeed = []\n        logs.forEach(log => {\n            if (active[log.api]) {\n                newFeed.push(log)\n            }\n        })\n        console.log(logs[0])\n        setFeed(newFeed)\n    }\n\n    useEffect(() => {\n        updateFeed()\n    }, [logs, active])\n\n    const handleCheck = (e) => {\n        setActive({ ...active, [e.target.name]: e.target.checked})\n    }\n\n    const [googleQuota, setGoogleQuota] = useState(0)\n    const calculateGoogleQuota = (logs) => {\n        const prices = {\n            'search': 100,\n            'video': 10,\n            'youtube_comments': 100\n        }\n        let totalPrice = 0\n        logs.forEach(log => {\n            if (prices[log.api]) {\n                totalPrice += prices[log.api]\n            }\n        })\n        setGoogleQuota(totalPrice)\n    }\n\n    return(\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <Typography variant='h6'>Overview</Typography>\n                <Typography>Total logs: {logs.length}</Typography>\n                <Typography>Google Quota: {googleQuota}</Typography>\n            </Paper>\n            <hr style={{margin: '10px 0'}} />\n            <Paper className={classes.paper}>\n                <FormGroup row className={classes.checkboxes}>\n                    {active ? APIs.map(api => {\n                        return(\n                            <FormControlLabel className={classes.checkbox}\n                                control={<Checkbox checked={active[api]} onChange={handleCheck} name={api} key={api}/>}\n                                label={api}\n                            />\n                        )\n                    }) : null}\n                </FormGroup>\n            </Paper>\n            <hr style={{margin: '10px 0'}} />\n            <TableContainer>\n                <Table size='small' className={classes.table}>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Time</TableCell>\n                            <TableCell>Api</TableCell>\n                            <TableCell>Detail</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {feed.map(item => {\n                            return (<TableRow key={Math.random()}>\n                                <TableCell align=\"left\">{item.time}</TableCell>\n                                <TableCell align=\"left\">{item.api}</TableCell>\n                                <TableCell align=\"left\">{item.details}</TableCell>\n                            </TableRow>)\n                        })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Logs)\n","import { useState, useEffect } from 'react';\n\nimport { Link, useRouteMatch, useParams, Switch, Route } from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport UsersAdmin from './pages/UsersAdmin';\nimport BlogAdmin from '../blog/BlogAdmin'\nimport Feedback from './Feedback'\nimport Logs from './Logs'\nimport ReactiveDrawer from '../dashboard/Drawer'\nimport LoadingCircle from '../utils/LoadingCircle';\nimport ErrorPage from '../utils/ErrorPage';\nimport { postData, capitalize } from '../utils/helpers';\n\nconst drawerWidth = '240px'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        [theme.breakpoints.up('md')]: {\n            alignItems: 'flex-start',\n        },\n    },\n    content: {\n        width: '100%',\n        padding: theme.spacing(2),\n        [theme.breakpoints.up('sm')]: {\n            width: '80%',\n        },\n        [theme.breakpoints.up('md')]: {\n            width: `calc(100% - 240px)`,\n            maxWidth: '800px',\n            marginLeft: drawerWidth,\n        },\n        boxSizing: 'border-box',\n    },\n    titleLine: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        width: 'inherit',\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n        [theme.breakpoints.up('md')]: {\n            marginRight: 0,\n            display: 'none',\n        },\n    },\n})\n\nconst ADMIN_CHANNEL = {\n    thumbnail: null,\n    channel_title: 'Admin',\n}\n\nconst Admin = ({auth0User, classes}) => {\n\n    const params = useParams()\n    const activePage = params.tab\n\n    const drawerItems = ['users', 'logs', 'blog', 'contact', 'waitlist']\n    const [mobileOpen, setMobileOpen] = useState(false)\n    const handleDrawerToggle = (val=null) => {\n        if (val === 'open') {\n            setMobileOpen(true)\n        } else if (val === 'closed') {\n            setMobileOpen(false)\n        } else {\n            setMobileOpen(!mobileOpen)\n        }\n    }\n\n    const [isLoading, setIsLoading] = useState(true)\n    const [hasError, setHasError] = useState(false)\n    const [invalid, setInvalid] = useState(false)\n    const [userData, setUserData] = useState(null)\n    const getUser = async () => {\n        try {\n            const response = await postData('/api/user', {auth0User})\n            if (!response.user) {\n                setIsLoading(false)\n                setHasError(true)\n                if (response.error) {\n                    console.log(`Error loading user from database: ${response.error}`)\n                }\n            } else {\n                setUserData(response.user)\n                validateUser(response.user)\n            }\n        }\n        catch(e) {\n            setIsLoading(false)\n            setHasError(true)\n            console.log(`Error loading dashboard: ${e}`)\n        }\n    }\n    const validateUser = (user) => {\n        const ADMIN_USERS = ['google-oauth2|102946505160688760338']\n        if (ADMIN_USERS.includes(user.id)) {\n            setInvalid(true)\n            setIsLoading(false)\n        } else {\n            // TODO: Redirect\n            setIsLoading(false)\n            setInvalid(true)\n        }\n    }\n\n    const routes = (\n        <Switch>\n            <Route exact path='/admin'>\n                <Typography>Please select a section.</Typography>\n            </Route>\n            <Route exact path={`/admin/users`}>\n                <UsersAdmin userData={userData} />\n            </Route>\n            <Route exact path={`/admin/logs`}>\n                <Logs />\n            </Route>\n            <Route exact path={`/admin/blog`}>\n                <BlogAdmin />\n            </Route>\n            <Route exact path={`/admin/contact`}>\n                <Feedback />\n            </Route>\n            <Route exact path={`/admin/waitlist`}>\n                {/* <WaitlistAdmin /> */}\n            </Route>\n        </Switch>\n    )\n\n    const [placeholder, setPlaceholder] = useState([])\n    useEffect(() => {\n        if (isLoading) {\n            setPlaceholder(<LoadingCircle />)\n        } else if (hasError) {\n            setPlaceholder(<ErrorPage />)\n        } else if (invalid) {\n            setPlaceholder(<Typography>Active user is not Admin</Typography>)\n        }\n    }, [isLoading, hasError, invalid])\n\n    return(\n        <div className={classes.root}>\n\n            {/* Navigation menu on the left. Fixed xl lg, Hidden md sm xs. */}\n            <ReactiveDrawer\n                section={'admin'}\n                drawerItems={drawerItems}\n                activePage={activePage}\n                channel={ADMIN_CHANNEL}\n                mobileOpen={mobileOpen}\n                handleDrawerToggle={handleDrawerToggle}\n            />\n\n            {/* Page title */}\n            <main className={classes.content}>\n                <div className={classes.titleLine}>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h3\" noWrap>\n                        {capitalize(activePage)}\n                    </Typography>\n                </div>\n\n            </main>\n\n            {isLoading || hasError || invalid\n                ? {placeholder}\n                : {routes}\n            }\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Admin)\n","import { useParams } from 'react-router'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = (theme) => ({\n    root: {\n        padding: '30px',\n        minHeight: '400px',\n        backgroundColor: theme.palette.primary.main,\n    },\n})\n\nconst Placeholder = ({classes}) => {\n    const params = useParams()\n    const activePage = params.page\n\n\n    return(\n        <div className={classes.root}>\n           <Typography variant='h3'>\n               {activePage} placeholder\n           </Typography>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Placeholder)\n","import { useState, useEffect } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { useHistory, useParams } from 'react-router'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nimport LoadingCircle from './utils/LoadingCircle'\nimport { postData } from './utils/helpers'\n\nconst styles = (theme) => ({\n    ...theme.typography,\n    row: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        width: '100%',\n        margin: '5px 0',\n    },\n    head: {\n        margin: '0',\n    },\n    bold: {\n        fontWeight: '600',\n    },\n    error: {\n        color: theme.palette.csRed.main,\n    },\n    csRed: {\n        color: 'white',\n        backgroundColor: theme.palette.csRed.main,\n    },\n    centered: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n    },\n})\n\nconst Login = ({page=null, classes}) => {\n    const params = useParams()\n    const [username, setUsername] = useState(\"\")\n    const [inputUsername, setInputUsername] = useState(true)\n    const [title, setTitle] = useState(\"\")\n    const handleUsername = (e) => {\n        setUsername(e.target.value)\n    }\n    useEffect(() => {\n        if (page) {\n            setUsername(page)\n            setInputUsername(false)\n            setTitle(\"Login to \" + page)\n        } else if (params.username) {\n            setUsername(params.username)\n            setInputUsername(false)\n            setTitle(\"Login to \" + params.username)\n        } else {\n            setTitle(\"Login\")\n        }\n    }, [])\n\n    const [password, setPassword] = useState(\"\")\n    const [isLoading, setIsLoading] = useState(false)\n    const [rejected, setRejected] = useState(false)\n    const handlePassword = (e) => {\n        setPassword(e.target.value)\n        if (rejected) {\n            setRejected(false)\n        }\n    }\n\n    const history = useHistory()\n    const handleLogin = async () => {\n        setIsLoading(true)\n\n        // Send to backend for verification\n        const response = await postData('/api/login', {username, password})\n\n        if (!response.user) {\n            // If incorrect, show rejected\n            setRejected(true)\n            setIsLoading(false)\n        } else {\n            // If correct, add userData to localStorage and go to page\n            localStorage.setItem('userData', JSON.stringify(response.user))\n            if (page) {\n                history.go(0) // /admin just refreshes\n            } else {\n                history.push('../dashboard') // /u pages redirect to dashboard\n            }\n        }\n    }\n\n    const loginForm = (\n        <>\n            {!inputUsername ? null :\n                <div className={`${classes.row} ${classes.head}`}>\n                    <Typography className={classes.body1}>Username:</Typography>\n                    <TextField\n                        autoFocus\n                        margin=\"none\"\n                        type=\"text\"\n                        inputProps={{min: 0,style: {width: '100px', textAlign: 'right'}}}\n                        className={classes.body1}\n                        onChange={handleUsername}\n                        value={username}\n                    />\n                </div>\n            }\n            <div className={`${classes.row} ${classes.head}`}>\n                <Typography className={classes.body1}>Password:</Typography>\n                <TextField\n                    autoFocus\n                    margin=\"none\"\n                    type=\"password\"\n                    inputProps={{min: 0,style: {width: '100px', textAlign: 'right'}}}\n                    className={classes.body1}\n                    onChange={handlePassword}\n                    value={password}\n                />\n            </div>\n            <div className={classes.row}>\n                {rejected\n                    ? <Typography className={classes.error}>\n                        Incorrect password. Please try again.\n                    </Typography>\n                    : null\n                }\n            </div>\n        </>\n    )\n\n    return (\n        <Dialog open>\n            <DialogTitle className={classes.centered}>{title}</DialogTitle>\n            <DialogContent>\n                {isLoading\n                    ? <LoadingCircle />\n                    : loginForm\n                }\n            </DialogContent>\n            <DialogActions className={classes.centered}>\n                <Button onClick={handleLogin} variant=\"contained\" className={classes.csRed}>\n                    LOGIN\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n\n}\n\nexport default withStyles(styles)(Login)\n","import { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch, useHistory } from 'react-router-dom'\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { withStyles } from '@material-ui/core/styles'\n// import { useAuth0 } from '@auth0/auth0-react'\n\nimport getTheme from './theme.js'\nimport Landing from \"./components/landing/Landing.jsx\"\nimport Dashboard from \"./components/dashboard/Dashboard.jsx\"\nimport Admin from \"./components/admin/Admin.jsx\"\nimport Placeholder from \"./components/Placeholder.jsx\"\nimport Login from './components/Login.jsx';\nimport { postData } from './components/utils/helpers.js';\n\nconst theme = getTheme()\n\ntheme.typography.h1 = {\n  [theme.breakpoints.up('sm')]: {\n    fontSize: '3.5em',\n  },\n}\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    margin: 0,\n    padding: 0,\n  },\n  body: {\n    flexGrow: 1,\n  },\n  navBar: {\n    zIndex: 100\n  },\n  footer: {\n    zIndex: 100\n  },\n})\n\n  // AUTH0 GOOGLE USER STRUCTURE:\n  // const user = {\n  //   email: \"granthawkins88@gmail.com\",\n  //   email_verified: true,\n  //   family_name: \"Hawkins\",\n  //   given_name: \"Grant\",\n  //   locale: \"en\",\n  //   name: \"Grant Hawkins\",\n  //   nickname: \"granthawkins88\",\n  //   picture: \"https://lh3.googleusercontent.com/a-/AOh14Ggx_la7EufYVuwYhxbtTs9j3OJDpW5N3Wo2YeBXPLA=s96-c\",\n  //   sub: \"google-oauth2|102946505160688760338\",\n  //   updated_at: \"2021-08-24T02:01:47.992\",\n  // }\n\nconst App = ({classes}) => {\n\n  const auth0User = null\n  // let { user } = useAuth0()\n  // const [auth0User, setAuth0User] = useState(null)\n  // useEffect(() => {\n  //     if (user) {\n  //       setAuth0User(user)\n  //     }\n  // }, [user])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={classes.root} style={{backgroundColor: theme.palette.primary.main}}>\n        <Router>\n          <Switch>\n            <Route path='/dashboard/:tab'>\n              <Dashboard auth0User={auth0User} />\n            </Route>\n            <Route path='/dashboard'>\n              <Redirect to='/dashboard/videos' />\n            </Route>\n\n            <Route path='/admin/:tab'>\n              <Admin auth0User={auth0User} />\n            </Route>\n            <Route path='/admin'>\n              <Redirect to='/admin/users' />\n            </Route>\n\n            <Route path='/u/:username'>\n              <Login />\n            </Route>\n\n            <Route path='/:page'>\n              <Placeholder />\n            </Route>\n\n            <Route path='/'>\n              <Landing />\n            </Route>\n\n          </Switch>\n        </Router>\n      </div>\n    </ThemeProvider>\n  )\n}\n\nexport default withStyles(styles)(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import { Auth0Provider } from \"@auth0/auth0-react\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// ReactDOM.render(\n//   <Auth0Provider\n//     domain=\"dev-o68rln01.us.auth0.com\"\n//     clientId=\"7YRTrvXYhEpZk2jQHyHm7HQmu4ukKhlD\"\n//     redirectUri='http://localhost:3000/dashboard/videos'\n//   >\n//     <App />\n//   </Auth0Provider>,\n//   document.getElementById('root')\n// );\n"],"sourceRoot":""}